{"index.html":"<html><head><script src=\"//ej2.syncfusion.com/javascript/demos/diagram/uml-activity/datasource.js\" type=\"text/javascript\"></script>\n<script src=\"https://cdn.syncfusion.com/ej2/dist/ej2.min.js\" type=\"text/javascript\"></script>\n    <link href=\"https://cdn.syncfusion.com/ej2/material.css\" rel=\"stylesheet\">\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <style>\n            body{\n                touch-action:none;\n            }\n        </style></head><body><div class=\"stackblitz-container {{theme}}\"><link href=\"src/diagram/styles/diagram-common.css\" rel=\"stylesheet\">\n\n\n<div class=\"control-section\">\n<style>\n    .sb-mobile-palette {\n        width: 210px;\n        height: 100%;\n        float: left;\n    }\n\n    .sb-mobile-palette-bar {\n        display: none;\n    }\n\n    .sb-mobile-diagram {\n        width: calc(100% - 212px);\n        height: 100%;\n        float: left;\n        border: 1px solid rgba(0, 0, 0, 0.12);\n        border-left: none;\n    }\n\n    .container-fluid {\n        padding-bottom: 15px;\n    }\n\n    @media (max-width: 550px) {\n\n        .sb-mobile-palette {\n            z-index: 19;\n            position: absolute;\n            display: none;\n            transition: transform 300ms linear, visibility 0s linear 300ms;\n            width: 39%;\n            height: 100%;\n        }\n\n        .sb-mobile-palette-bar {\n            display: block;\n            width: 100%;\n            background: #fafafa;\n            padding: 10px 10px;\n            border: 0.5px solid #e0e0e0;\n            min-height: 40px;\n        }\n\n        .sb-mobile-diagram {\n            width: 100%;\n            height: 100%;\n            float: left;\n            left: 0px;\n        }\n\n        #palette-icon {\n            font-size: 20px;\n        }\n    }\n\n    .sb-mobile-palette-open {\n        position: absolute;\n        display: block;\n        right: 15px;\n    }\n\n    @font-face {\n        font-family: 'e-ddb-icons1';\n        src: url(data:application/x-font-ttf;charset=utf-8;base64,AAEAAAAKAIAAAwAgT1MvMj1tSfIAAAEoAAAAVmNtYXDnEOdVAAABiAAAADZnbHlmdC1P4gAAAcgAAAAwaGVhZBJhohMAAADQAAAANmhoZWEIVQQDAAAArAAAACRobXR4CAAAAAAAAYAAAAAIbG9jYQAYAAAAAAHAAAAABm1heHABDgAUAAABCAAAACBuYW1lm+wy9gAAAfgAAAK1cG9zdLnsYngAAASwAAAAMAABAAAEAAAAAFwEAAAAAAAD+AABAAAAAAAAAAAAAAAAAAAAAgABAAAAAQAAgNcenF8PPPUACwQAAAAAANelrs4AAAAA16WuzgAAAAAD+AN6AAAACAACAAAAAAAAAAEAAAACAAgAAgAAAAAAAgAAAAoACgAAAP8AAAAAAAAAAQQAAZAABQAAAokCzAAAAI8CiQLMAAAB6wAyAQgAAAIABQMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUGZFZABA5wDnAAQAAAAAXAQAAAAAAAABAAAAAAAABAAAAAQAAAAAAAACAAAAAwAAABQAAwABAAAAFAAEACIAAAAEAAQAAQAA5wD//wAA5wD//wAAAAEABAAAAAEAAAAAAAAAGAAAAAIAAAAAA/gDegACAAcAACUhCQEhATUhAQQC9P6G/YoBMQFF/YqGAjf+hgH0QwAAAAAAEgDeAAEAAAAAAAAAAQAAAAEAAAAAAAEAEwABAAEAAAAAAAIABwAUAAEAAAAAAAMAEwAbAAEAAAAAAAQAEwAuAAEAAAAAAAUACwBBAAEAAAAAAAYAEwBMAAEAAAAAAAoALABfAAEAAAAAAAsAEgCLAAMAAQQJAAAAAgCdAAMAAQQJAAEAJgCfAAMAAQQJAAIADgDFAAMAAQQJAAMAJgDTAAMAAQQJAAQAJgD5AAMAAQQJAAUAFgEfAAMAAQQJAAYAJgE1AAMAAQQJAAoAWAFbAAMAAQQJAAsAJAGzIERpYWdyYW1fU2hhcGVzX0ZPTlRSZWd1bGFyRGlhZ3JhbV9TaGFwZXNfRk9OVERpYWdyYW1fU2hhcGVzX0ZPTlRWZXJzaW9uIDEuMERpYWdyYW1fU2hhcGVzX0ZPTlRGb250IGdlbmVyYXRlZCB1c2luZyBTeW5jZnVzaW9uIE1ldHJvIFN0dWRpb3d3dy5zeW5jZnVzaW9uLmNvbQAgAEQAaQBhAGcAcgBhAG0AXwBTAGgAYQBwAGUAcwBfAEYATwBOAFQAUgBlAGcAdQBsAGEAcgBEAGkAYQBnAHIAYQBtAF8AUwBoAGEAcABlAHMAXwBGAE8ATgBUAEQAaQBhAGcAcgBhAG0AXwBTAGgAYQBwAGUAcwBfAEYATwBOAFQAVgBlAHIAcwBpAG8AbgAgADEALgAwAEQAaQBhAGcAcgBhAG0AXwBTAGgAYQBwAGUAcwBfAEYATwBOAFQARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAdQBzAGkAbgBnACAAUwB5AG4AYwBmAHUAcwBpAG8AbgAgAE0AZQB0AHIAbwAgAFMAdAB1AGQAaQBvAHcAdwB3AC4AcwB5AG4AYwBmAHUAcwBpAG8AbgAuAGMAbwBtAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgECAQMABlNoYXBlcwAA) format('truetype');\n        font-weight: normal;\n        font-style: normal;\n    }\n\n    .e-ddb-icons1 {\n        font-family: 'e-ddb-icons1';\n        speak: none;\n        font-size: 16px;\n        font-style: normal;\n        font-weight: normal;\n        font-variant: normal;\n        text-transform: none;\n        line-height: 1;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n\n    .e-toggle-palette::before {\n        content: \"\\e700\"\n    }\n\n    .material #umlActivityDiagram #palette-space .e-accordion {\n        border: none;\n    }\n\n    .material #umlActivityDiagram #palette-space {\n        border: 1px solid rgba(0, 0, 0, 0.12);\n    }\n\n    .bootstrap #umlActivityDiagram .sb-mobile-diagram {\n        height: calc(100% - 17px);\n        margin-top: 5px;\n        border-radius: 4px;\n        border-left: 1px solid rgba(0, 0, 0, 0.12);\n    }\n\n    .fabric #umlActivityDiagram .sb-mobile-diagram {\n        border-left: 1px solid rgba(0, 0, 0, 0.12);\n    }\n</style>\n        <div id=\"umlActivityDiagram\" style=\"width: 100%; height: 521px\">\n    <div class=\"sb-mobile-palette-bar\">\n        <div id=\"palette-icon\" style=\"float: right;\" role=\"button\" class=\"e-ddb-icons1 e-toggle-palette\"></div>\n    </div>\n    <div id=\"palette-space\" class=\"sb-mobile-palette\">\n        <div id=\"symbolPalette\" style=\"width:90%;\"></div>\n    </div>\n    <div id=\"diagram-space\" class=\"sb-mobile-diagram\">\n        <div id=\"diagram\"></div>\n    </div>\n    </div>\n</div>\n\n\n</div></body></html>","index.js":"{{ripple}}/**\r\n * UMLActivity Diagram for customer service\r\n */\r\nej.diagrams.Diagram.Inject(ej.diagrams.UndoRedo);\r\n\r\n//Create and add ports for node.\r\nfunction getNodePorts(obj) {\r\n    if (obj.id === 'node2' || obj.id === 'node9') {\r\n        var node2Ports = [\r\n            { id: 'port1', offset: { x: 0.2, y: 1 } },\r\n            { id: 'port2', offset: { x: 0.8, y: 1 } },\r\n            { id: 'port3', offset: { x: 0.2, y: 0 } },\r\n            { id: 'port4', offset: { x: 0.8, y: 0 } },\r\n        ];\r\n        return node2Ports;\r\n    } else {\r\n        var ports = [\r\n            { id: 'portLeft', offset: { x: 0, y: 0.5 } },\r\n            { id: 'portRight', offset: { x: 1, y: 0.5 } },\r\n            { id: 'portBottom', offset: { x: 0.5, y: 1 } },\r\n            { id: 'portTop', offset: { x: 0.5, y: 0 } },\r\n        ];\r\n        return ports;\r\n    }\r\n}\r\n\r\n// Initializes connector symbols to the connector palette in the symbol palette\r\nfunction getConnectors() {\r\n    var targetDecorator = { shape: 'Arrow', style: { fill: '#444', strokeColor: '#444' } };\r\n    var sourcePoint = { x: 0, y: 0 };\r\n    var targetPoint = { x: 40, y: 40 };\r\n    var connectorSymbols = [\r\n        {\r\n            id: 'Link2', sourcePoint: sourcePoint, targetPoint: targetPoint,\r\n            type: 'Orthogonal', style: getConnectorStyle(true), targetDecorator: targetDecorator,\r\n        },\r\n        {\r\n            id: 'Link1', sourcePoint: sourcePoint, targetPoint: targetPoint,\r\n            type: 'Orthogonal', style: getConnectorStyle(), targetDecorator: targetDecorator,\r\n        },\r\n        {\r\n            id: 'Link3', sourcePoint: sourcePoint, targetPoint: targetPoint,\r\n            type: 'Straight', style: getConnectorStyle(), targetDecorator: targetDecorator,\r\n        }\r\n    ];\r\n    return connectorSymbols;\r\n}\r\n\r\n// sets style for the connector symbols to the connector palette in the symbol palette\r\nfunction getConnectorStyle(dashArrayed) {\r\n    var style = {};\r\n    if (dashArrayed) {\r\n        style = { strokeWidth: 2, strokeColor: '#444', strokeDashArray: '4 4', };\r\n    } else {\r\n        style = { strokeWidth: 2, strokeColor: '#444' };\r\n    }\r\n    return style;\r\n}\r\n\r\n// sets the default values for the symbols in the symbol palette\r\nfunction setPaletteNodeDefaults(symbol) {\r\n    if (symbol.id === 'JoinNode') {\r\n        symbol.width = 20; symbol.height = 50;\r\n    } else if (symbol.id === 'ForkNode') {\r\n        symbol.width = 50; symbol.height = 20;\r\n    } else if (symbol.id === 'Decision' || symbol.id === 'MergeNode') {\r\n        symbol.width = 50; symbol.height = 40;\r\n    } else {\r\n        symbol.width = 50; symbol.height = 50;\r\n    }\r\n    if (symbol.id === 'InitialNode' || symbol.id === 'FinalNode' || symbol.id === 'JoinNode' || symbol.id === 'ForkNode') {\r\n        symbol.style.fill = '#444';\r\n    }\r\n    symbol.style.strokeColor = '#444';\r\n}\r\n\r\nfunction addEvents() {\r\n    var isMobile = window.matchMedia('(max-width:550px)').matches;\r\n    if (isMobile) {\r\n        var paletteIcon = document.getElementById('palette-icon');\r\n        if (paletteIcon) {\r\n            paletteIcon.addEventListener('click', openPalette, false);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n    var bounds = document.getElementById('diagram-space').getBoundingClientRect();\r\n    var centerX = bounds.width / 2;\r\n    var middle = centerX - 50;\r\n    var left = middle - 120;\r\n    var right = middle + 120;\r\n    //Initializes the nodes for the diagram\r\n    var nodes = [\r\n        {\r\n            id: 'Start', height: 40, width: 40, offsetX: middle, offsetY: 25,\r\n            shape: { type: 'UmlActivity', shape: 'InitialNode' }\r\n        }, {\r\n            id: 'ReceiveCall', height: 40, width: 105, offsetX: middle, offsetY: 85,\r\n            shape: { type: 'UmlActivity', shape: 'Action' },\r\n            annotations: [{ content: 'Receive Customer Call' }]\r\n        }, {\r\n            id: 'node2', height: 10, width: 70, offsetX: middle, offsetY: 130,\r\n            shape: { type: 'UmlActivity', shape: 'ForkNode' }\r\n        }, {\r\n            id: 'Determine', height: 40, width: 105, offsetX: left, offsetY: 210,\r\n            shape: { type: 'UmlActivity', shape: 'Action' },\r\n            annotations: [{ content: 'Determine Type of Call' }]\r\n        }, {\r\n            id: 'Log', height: 40, width: 105, offsetX: right, offsetY: 210,\r\n            shape: { type: 'UmlActivity', shape: 'Action' },\r\n            annotations: [{ content: 'Customer Logging a Call' }]\r\n        }, {\r\n            id: 'node5', height: 50, width: 50, offsetX: left, offsetY: 290,\r\n            shape: { type: 'UmlActivity', shape: 'Decision' }\r\n        }, {\r\n            id: 'transfer_sales', height: 40, width: 105, offsetX: middle - 200, offsetY: 360,\r\n            shape: { type: 'UmlActivity', shape: 'Action' },\r\n            annotations: [{ content: 'Transfer the call to Sales' }]\r\n        }, {\r\n            id: 'transfer_desk', height: 40, width: 105, offsetX: middle - 25, offsetY: 360,\r\n            shape: { type: 'UmlActivity', shape: 'Action' },\r\n            annotations: [{ content: 'Transfer the call to Help Desk' }]\r\n        }, {\r\n            id: 'node8', height: 50, width: 50, offsetX: left, offsetY: 430,\r\n            shape: { type: 'UmlActivity', shape: 'MergeNode' }\r\n        }, {\r\n            id: 'node9', height: 10, width: 70, offsetX: middle, offsetY: 500,\r\n            shape: { type: 'UmlActivity', shape: 'JoinNode' }\r\n        }, {\r\n            id: 'CloseCall', height: 40, width: 105, offsetX: middle, offsetY: 550,\r\n            shape: { type: 'UmlActivity', shape: 'Action' },\r\n            annotations: [{ content: 'Close Call', margin: { left: 25, right: 25 } }]\r\n        }, {\r\n            id: 'node11', height: 40, width: 40, offsetX: middle, offsetY: 615,\r\n            shape: { type: 'UmlActivity', shape: 'FinalNode' }\r\n        }\r\n    ];\r\n\r\n    //Initializes the connector for the diagram\r\n    var connectors = [\r\n        { id: 'connector1', sourceID: 'Start', targetID: 'ReceiveCall' },\r\n        { id: 'connector2', sourceID: 'ReceiveCall', targetID: 'node2' },\r\n        {\r\n            id: 'connector3', sourceID: 'node2', targetID: 'Determine',\r\n            sourcePortID: 'port1', targetPortID: 'portTop',\r\n            segments: [\r\n                { type: 'Orthogonal', length: 20, direction: 'Bottom' },\r\n                { type: 'Orthogonal', length: 50, direction: 'Left' }\r\n            ],\r\n        },\r\n        {\r\n            id: 'connector4', sourceID: 'node2', targetID: 'Log',\r\n            sourcePortID: 'port2', targetPortID: 'portTop',\r\n            segments: [\r\n                { type: 'Orthogonal', length: 20, direction: 'Bottom' },\r\n                { type: 'Orthogonal', length: 50, direction: 'Right' }\r\n            ],\r\n        },\r\n        { id: 'connector5', sourceID: 'Determine', targetID: 'node5' },\r\n        {\r\n            id: 'connector6', sourceID: 'node5', targetID: 'transfer_sales',\r\n            sourcePortID: 'portLeft', targetPortID: 'portTop',\r\n            shape: { type: 'UmlActivity', flow: 'Object' },\r\n            annotations: [\r\n                {\r\n                    id: 'connector6Label', content: 'type=New customer', offset: 0.715,\r\n                    style: { fill: 'white', color: 'black', textWrapping: 'NoWrap' }\r\n                }\r\n            ],\r\n        },\r\n        {\r\n            id: 'connector7', sourceID: 'node5', targetID: 'transfer_desk',\r\n            sourcePortID: 'portRight', targetPortID: 'portTop',\r\n            shape: { type: 'UmlActivity', flow: 'Object' },\r\n            annotations: [\r\n                {\r\n                    id: 'connector7Label', content: 'type=Existing customer', offset: 0.75,\r\n                    style: { fill: 'white', color: 'black', textWrapping: 'NoWrap' }\r\n                }\r\n            ],\r\n        },\r\n        {\r\n            id: 'connector8', sourceID: 'transfer_sales', targetID: 'node8',\r\n            sourcePortID: 'portBottom', targetPortID: 'portLeft',\r\n            segments: [{ type: 'Orthogonal', length: 50, direction: 'Bottom' }],\r\n        },\r\n        {\r\n            id: 'connector9', sourceID: 'transfer_desk', targetID: 'node8',\r\n            sourcePortID: 'portBottom', targetPortID: 'portRight',\r\n            segments: [{ type: 'Orthogonal', length: 50, direction: 'Bottom' }],\r\n        },\r\n        {\r\n            id: 'connector10', sourceID: 'node8', targetID: 'node9',\r\n            sourcePortID: 'portBottom', targetPortID: 'port3'\r\n        },\r\n        {\r\n            id: 'connector11', sourceID: 'Log', targetID: 'node9',\r\n            sourcePortID: 'portBottom', targetPortID: 'port4',\r\n            segments: [\r\n                { type: 'Orthogonal', length: 213, direction: 'Bottom' },\r\n                { type: 'Orthogonal', length: 50, direction: 'Left' }\r\n            ],\r\n        },\r\n        { id: 'connector12', sourceID: 'node9', targetID: 'CloseCall' },\r\n        { id: 'connector13', sourceID: 'CloseCall', targetID: 'node11' }\r\n    ];\r\n\r\n    // initializes the uml activity symbols to the UML Shapes in the symbol palette\r\n    var umlActivityShapes = [\r\n        { id: 'Action', shape: { type: 'UmlActivity', shape: 'Action' } },\r\n        { id: 'Decision', shape: { type: 'UmlActivity', shape: 'Decision' } },\r\n        { id: 'MergeNode', shape: { type: 'UmlActivity', shape: 'MergeNode' } },\r\n        { id: 'InitialNode', shape: { type: 'UmlActivity', shape: 'InitialNode' } },\r\n        { id: 'FinalNode', shape: { type: 'UmlActivity', shape: 'FinalNode' } },\r\n        { id: 'ForkNode', shape: { type: 'UmlActivity', shape: 'ForkNode' } },\r\n        { id: 'JoinNode', shape: { type: 'UmlActivity', shape: 'JoinNode' } },\r\n        { id: 'TimeEvent', shape: { type: 'UmlActivity', shape: 'TimeEvent' } },\r\n        { id: 'AcceptingEvent', shape: { type: 'UmlActivity', shape: 'AcceptingEvent' } },\r\n        { id: 'SendSignal', shape: { type: 'UmlActivity', shape: 'SendSignal' } },\r\n        { id: 'ReceiveSignal', shape: { type: 'UmlActivity', shape: 'ReceiveSignal' } },\r\n        { id: 'StructuredNode', shape: { type: 'UmlActivity', shape: 'StructuredNode' } },\r\n        { id: 'Note', shape: { type: 'UmlActivity', shape: 'Note' } }\r\n    ];\r\n\r\n    //Initializes diagram control\r\n    var diagram = new ej.diagrams.Diagram({\r\n        // sets the height and width of the diagram\r\n        width: '100%', height: '100%',\r\n        // sets the nodes and connectors of the diagram\r\n        nodes: nodes, connectors: connectors,\r\n        // sets snap settings to the diagram\r\n        snapSettings: {\r\n            constraints: ej.diagrams.SnapConstraints.None\r\n        },\r\n        //Sets the default values of a node\r\n        getNodeDefaults: function (obj) {\r\n            obj.ports = getNodePorts(obj);\r\n            if (obj.ports) {\r\n                for (var i = 0; i < obj.ports.length; i++) {\r\n                    obj.ports[i].visibility = ej.diagrams.PortVisibility.Hidden;\r\n                }\r\n            }\r\n            if (obj.id === 'Start' || obj.id === 'node2' || obj.id === 'node9' || obj.id === 'node11') {\r\n                obj.style.fill = '#444';\r\n            }\r\n            obj.style.strokeColor = '#444';\r\n            return obj;\r\n        },\r\n        //Sets the default values of a Connector.\r\n        getConnectorDefaults: function (obj) {\r\n            if (obj.id.indexOf('connector') !== -1) {\r\n                obj.type = 'Orthogonal'; obj.cornerRadius = 10;\r\n                obj.targetDecorator = { shape: 'OpenArrow', style: { strokeColor: '#444', fill: '#444' } };\r\n            }\r\n        },\r\n        created: function () {\r\n            addEvents();\r\n        }\r\n    });\r\n    diagram.appendTo('#diagram');\r\n    //Initializes symbol palette\r\n    var palette = new ej.diagrams.SymbolPalette({\r\n        // sets the expandable mode of the symbol palette\r\n        expandMode: 'Multiple',\r\n        // sets the height and wodth of the symbol palette\r\n        width: '100%', height: '100%',\r\n        // sets the default values for the symbols in the symbol palette\r\n        getNodeDefaults: setPaletteNodeDefaults,\r\n        // sets the height and width of the symbols\r\n        symbolHeight: 55, symbolWidth: 55,\r\n        // sets the margin for the symbol\r\n        symbolMargin: { left: 10, right: 10, top: 10, bottom: 10 },\r\n        // sets the palettes to be displayed in the symbol palette\r\n        palettes: [\r\n            { id: 'umlActivity', expanded: true, symbols: umlActivityShapes, title: 'UML Shapes' },\r\n            { id: 'Connector', expanded: true, symbols: getConnectors(), title: 'Connectors' },\r\n        ],\r\n        getSymbolInfo: function (symbol) { return { fit: true }; }\r\n    });\r\n    palette.appendTo('#symbolPalette');\r\n\r\n"}