{"index.html":"<html><head><script src=\"//ej2.syncfusion.com/javascript/demos/treemap/color-mapping/datasource.js\" type=\"text/javascript\"></script>\n<script src=\"https://cdn.syncfusion.com/ej2/dist/ej2.min.js\" type=\"text/javascript\"></script>\n    <link href=\"https://cdn.syncfusion.com/ej2/material.css\" rel=\"stylesheet\">\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <style>\n            body{\n                touch-action:none;\n            }\n        </style></head><body><div class=\"stackblitz-container {{theme}}\"><div class=\"col-lg-9 control-section\">\n    <div class=\"content-wrapper\">\n        <div id=\"default-container\"></div>\n    </div>\n</div>\n<!-- Property Panel-->\n<div class=\"col-lg-3 property-section\">\n    <table id=\"property\" title=\"Properties\" style=\"width: 100%\">\n        <tbody>\n            <tr style=\"height: 50px\">\n                <td style=\"width: 10%\">\n                    <div class=\"property-text\">Color Mapping Type</div>\n                </td>\n                <td style=\"width: 30%;\">\n                    <select autocomplete=\"off\" id=\"colorMapping\">\n                        <option value=\"RangeColorMapping\" selected>Range</option>\n                        <option value=\"EqualColorMapping\">Equal</option>\n                        <option value=\"DesaturationColorMapping\">Desaturation</option>\n                    </select>\n                </td>\n            </tr>\n            <tr>\n                <td style=\"width: 40%\">\n                    <div class=\"property-text\" id=\"text1\" style=\"display: none\"> Change Opacity</div>\n                </td>\n                <td style=\"width: 40%;\">\n                    <div id=\"input1\" style=\"display: none\">\n                        <input type=\"checkbox\" id=\"opacity\">\n                    </div>\n                </td>\n            </tr>\n            <tr>\n                <td style=\"width: 50%\">\n                    <div class=\"property-text\" id=\"text2\" style=\"margin-top:12%; display: none\">Min Opacity</div>\n                </td>\n                <td style=\"width: 50%;\">\n                    <div id=\"input2\" style=\"display: none\">\n                        <input type=\"range\" id=\"minopacity\" step=\"0.1\" value=\"0.5\" min=\"0\" max=\"1\" style=\"width:100%;margin-top: 20%\">\n                    </div>\n                </td>\n            </tr>\n            <tr>\n                <td style=\"width: 50%\">\n                    <div class=\"property-text\" id=\"text3\" style=\"margin-top:12%; display: none\">Max Opacity</div>\n                </td>\n                <td style=\"width: 50%;\">\n                    <div id=\"input3\" style=\"display: none\">\n                        <input type=\"range\" id=\"maxopacity\" step=\"0.1\" value=\"1\" min=\"0\" max=\"1\" style=\"width:100%;margin-top: 20%\">\n                    </div>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</div>\n\n</div></body></html>","index.js":"{{ripple}}\r\n    var treemap = new ej.treemap.TreeMap({\r\n\r\n        titleSettings: {\r\n            text: 'Top 10 largest islands in the World',\r\n            textStyle: { size: '15px' }\r\n        },\r\n        format: 'n',\r\n        useGroupingSeparator: true,\r\n        rangeColorValuePath: 'Area',\r\n        dataSource: window.ColorMapping,\r\n        legendSettings: {\r\n            visible: true,\r\n            position: 'Bottom',\r\n            mode: 'Interactive',\r\n            height: '10',\r\n            title: {\r\n                text: 'Area'\r\n            },\r\n        },\r\n        tooltipSettings: {\r\n            visible: true,\r\n            format: 'Name: ${Name}<br>Area: ${Area} per square kms<br>Continent: ${Location}',\r\n            opacity: 0.8\r\n        },\r\n        weightValuePath: 'Area',\r\n        leafItemSettings: {\r\n            labelPath: 'Name',\r\n            border: { color: 'white', width: 0.5 },\r\n            colorMapping: [\r\n                { from: 100000, to: 250000, label: '0.1M - 0.25M', color: '#547C84' },\r\n                { from: 250000, to: 550000, label: '0.25M - 0.55M', color: '#37AFAB' },\r\n                { from: 550000, to: 750000, label: '0.55M - 0.75M', color: '#A4D6AD' },\r\n                { from: 750000, to: 2250000, label: '0.75M - 2M', color: '#DEEBAE' },\r\n                { to: null, from: null, color: 'null' },\r\n                { to: null, from: null, color: 'null' },\r\n            ]\r\n        },\r\n    });\r\n    treemap.appendTo('#default-container');\r\n    // code for property panel\r\n    var opacity;\r\n    var highlightCheckBox = new ej.buttons.CheckBox({\r\n        change: opacity, checked: false\r\n    }, '#opacity');\r\n    highlightCheckBox.change = opacity = function (e) {\r\n        var minOpacity = document.getElementById('minopacity');\r\n        var maxOpacity = document.getElementById('maxopacity');\r\n        if (e.checked) {\r\n            document.getElementById('text3').style.display = 'block';\r\n            document.getElementById('input3').style.display = 'block';\r\n            document.getElementById('text2').style.display = 'block';\r\n            document.getElementById('input2').style.display = 'block';\r\n            treemap.leafItemSettings.colorMapping[0].minOpacity = parseFloat(minOpacity.value);\r\n            treemap.leafItemSettings.colorMapping[0].maxOpacity = parseFloat(maxOpacity.value);\r\n            treemap.leafItemSettings.colorMapping[1].minOpacity = parseFloat(minOpacity.value);\r\n            treemap.leafItemSettings.colorMapping[1].maxOpacity = parseFloat(maxOpacity.value);\r\n            minOpacity.disabled = false;\r\n            maxOpacity.disabled = false;\r\n        }\r\n        else {\r\n            document.getElementById('text2').style.display = 'none';\r\n            document.getElementById('input2').style.display = 'none';\r\n            document.getElementById('text3').style.display = 'none';\r\n            document.getElementById('input3').style.display = 'none';\r\n            treemap.leafItemSettings.colorMapping[0].minOpacity = null;\r\n            treemap.leafItemSettings.colorMapping[0].maxOpacity = null;\r\n            treemap.leafItemSettings.colorMapping[1].minOpacity = null;\r\n            treemap.leafItemSettings.colorMapping[1].maxOpacity = null;\r\n            minOpacity.disabled = true;\r\n            maxOpacity.disabled = true;\r\n        }\r\n        treemap.refresh();\r\n    };\r\n    document.getElementById('minopacity').onpointermove = document.getElementById('minopacity').ontouchmove =\r\n        document.getElementById('minopacity').onchange = function () {\r\n            if (highlightCheckBox.checked && !highlightCheckBox.disabled) {\r\n                var slider = document.getElementById('minopacity');\r\n                var minOpacity = parseFloat(slider.value);\r\n                treemap.leafItemSettings.colorMapping[0].minOpacity = minOpacity;\r\n                treemap.leafItemSettings.colorMapping[1].minOpacity = minOpacity;\r\n                treemap.refresh();\r\n            }            \r\n        };\r\n    document.getElementById('maxopacity').onpointermove = document.getElementById('maxopacity').ontouchmove =\r\n        document.getElementById('maxopacity').onchange = function () {\r\n            if (highlightCheckBox.checked && !highlightCheckBox.disabled) {\r\n                var slider = document.getElementById('maxopacity');\r\n                var maxOpacity = parseFloat(slider.value);\r\n                treemap.leafItemSettings.colorMapping[0].maxOpacity = maxOpacity;\r\n                treemap.leafItemSettings.colorMapping[1].maxOpacity = maxOpacity;\r\n                treemap.refresh();\r\n            }\r\n        };\r\n    var sampleValue = new ej.dropdowns.DropDownList({\r\n        index: 0,\r\n        placeholder: 'Range ColorMaping',\r\n        width: '110%',\r\n        change: function () {\r\n            var element = sampleValue.value.toString();\r\n            if (element === 'RangeColorMapping') {\r\n                document.getElementById('text3').style.display = 'none';\r\n                document.getElementById('input3').style.display = 'none';\r\n                document.getElementById('text1').style.display = 'none';\r\n                document.getElementById('input1').style.display = 'none';\r\n                document.getElementById('text2').style.display = 'none';\r\n                document.getElementById('input2').style.display = 'none';\r\n                treemap.rangeColorValuePath = 'Area';\r\n                treemap.leafItemSettings.colorMapping[2].minOpacity = null;\r\n                treemap.leafItemSettings.colorMapping[2].maxOpacity = null;\r\n                treemap.leafItemSettings.colorMapping[1].minOpacity = null;\r\n                treemap.leafItemSettings.colorMapping[1].maxOpacity = null;\r\n                treemap.leafItemSettings.colorMapping[4].minOpacity = null;\r\n                treemap.leafItemSettings.colorMapping[4].maxOpacity = null;\r\n                treemap.leafItemSettings.colorMapping[3].minOpacity = null;\r\n                treemap.leafItemSettings.colorMapping[3].maxOpacity = null;\r\n                treemap.leafItemSettings.colorMapping[5].minOpacity = null;\r\n                treemap.leafItemSettings.colorMapping[5].maxOpacity = null;\r\n                treemap.leafItemSettings.colorMapping[0].from = 100000;\r\n                treemap.leafItemSettings.colorMapping[0].to = 250000;\r\n                treemap.leafItemSettings.colorMapping[0].value = null;\r\n                treemap.leafItemSettings.colorMapping[0].minOpacity = null;\r\n                treemap.leafItemSettings.colorMapping[0].maxOpacity = null;\r\n                treemap.leafItemSettings.colorMapping[1].value = null;\r\n                treemap.leafItemSettings.colorMapping[2].value = null;\r\n                treemap.leafItemSettings.colorMapping[0].label = '0.1M - 0.25M';\r\n                treemap.leafItemSettings.colorMapping[0].color = '#547C84';\r\n                treemap.leafItemSettings.colorMapping[1].from = 250000;\r\n                treemap.leafItemSettings.colorMapping[1].to = 500000;\r\n                treemap.leafItemSettings.colorMapping[1].label = '0.25M - 0.50M';\r\n                treemap.leafItemSettings.colorMapping[1].color = '#37AFAB';\r\n                treemap.leafItemSettings.colorMapping[2].from = 500000;\r\n                treemap.leafItemSettings.colorMapping[2].to = 750000;\r\n                treemap.leafItemSettings.colorMapping[2].label = '0.5M - 0.75M';\r\n                treemap.leafItemSettings.colorMapping[2].color = '#A4D6AD';\r\n                treemap.leafItemSettings.colorMapping[2].value = null;\r\n                treemap.leafItemSettings.colorMapping[3].from = 750000;\r\n                treemap.leafItemSettings.colorMapping[3].to = 2200000;\r\n                treemap.leafItemSettings.colorMapping[3].label = '0.75M - 2M';\r\n                treemap.leafItemSettings.colorMapping[3].color = '#DEEBAE';\r\n                treemap.leafItemSettings.colorMapping[4].from = null;\r\n                treemap.leafItemSettings.colorMapping[3].value = null;\r\n                treemap.leafItemSettings.colorMapping[4].to = null;\r\n                treemap.leafItemSettings.colorMapping[4].label = null;\r\n                treemap.leafItemSettings.colorMapping[4].value = null;\r\n                treemap.leafItemSettings.colorMapping[4].color = null;\r\n                treemap.leafItemSettings.colorMapping[5].to = null;\r\n                treemap.leafItemSettings.colorMapping[5].label = null;\r\n                treemap.leafItemSettings.colorMapping[5].value = null;\r\n                treemap.leafItemSettings.colorMapping[5].color = null;\r\n                treemap.leafItemSettings.colorMapping[5].from = null;\r\n                treemap.legendSettings.title.text = 'Area';\r\n                treemap.refresh();\r\n            }\r\n            else if (element === 'EqualColorMapping') {\r\n                document.getElementById('text1').style.display = 'none';\r\n                document.getElementById('input1').style.display = 'none';\r\n                document.getElementById('text2').style.display = 'none';\r\n                document.getElementById('input2').style.display = 'none';\r\n                document.getElementById('text3').style.display = 'none';\r\n                document.getElementById('input3').style.display = 'none';\r\n                treemap.rangeColorValuePath = null;\r\n                treemap.leafItemSettings.colorMapping[0].from = null;\r\n                treemap.leafItemSettings.colorMapping[0].to = null;\r\n                treemap.leafItemSettings.colorMapping[0].label = null;\r\n                treemap.leafItemSettings.colorMapping[1].label = null;\r\n                treemap.leafItemSettings.colorMapping[2].label = null;\r\n                treemap.leafItemSettings.colorMapping[3].label = null;\r\n                treemap.leafItemSettings.colorMapping[4].label = null;\r\n                treemap.leafItemSettings.colorMapping[0].value = 'North America';\r\n                treemap.leafItemSettings.colorMapping[0].color = '#DEEBAE';\r\n                treemap.leafItemSettings.colorMapping[1].from = null;\r\n                treemap.leafItemSettings.colorMapping[1].to = null;\r\n                treemap.leafItemSettings.colorMapping[1].value = 'Oceania';\r\n                treemap.leafItemSettings.colorMapping[1].color = '#A4D6AD';\r\n                treemap.leafItemSettings.colorMapping[2].from = null;\r\n                treemap.leafItemSettings.colorMapping[2].to = null;\r\n                treemap.leafItemSettings.colorMapping[2].value = 'Asia';\r\n                treemap.leafItemSettings.colorMapping[2].color = '#37AFAB';\r\n                treemap.leafItemSettings.colorMapping[3].from = null;\r\n                treemap.leafItemSettings.colorMapping[3].to = null;\r\n                treemap.leafItemSettings.colorMapping[3].value = 'Africa';\r\n                treemap.leafItemSettings.colorMapping[3].color = '#547C84';\r\n                treemap.leafItemSettings.colorMapping[4].from = null;\r\n                treemap.leafItemSettings.colorMapping[4].to = null;\r\n                treemap.leafItemSettings.colorMapping[4].value = 'Europe';\r\n                treemap.leafItemSettings.colorMapping[4].color = '#CEBF93';\r\n                treemap.leafItemSettings.colorMapping[0].minOpacity = null;\r\n                treemap.leafItemSettings.colorMapping[0].maxOpacity = null;\r\n                treemap.leafItemSettings.colorMapping[1].minOpacity = null;\r\n                treemap.leafItemSettings.colorMapping[1].maxOpacity = null;\r\n                treemap.leafItemSettings.colorMapping[2].minOpacity = null;\r\n                treemap.leafItemSettings.colorMapping[2].maxOpacity = null;\r\n                treemap.leafItemSettings.colorMapping[3].minOpacity = null;\r\n                treemap.leafItemSettings.colorMapping[3].maxOpacity = null;\r\n                treemap.leafItemSettings.colorMapping[4].minOpacity = null;\r\n                treemap.leafItemSettings.colorMapping[4].maxOpacity = null;\r\n                treemap.equalColorValuePath = 'Location';\r\n                treemap.legendSettings.title.text = 'Continent';\r\n                treemap.refresh();\r\n            }\r\n            else if (element === 'DesaturationColorMapping') {\r\n                document.getElementById('text1').style.display = 'block';\r\n                document.getElementById('input1').style.display = 'block';\r\n                treemap.rangeColorValuePath = 'Area';\r\n                treemap.equalColorValuePath = null;\r\n                var minOpacity = document.getElementById('minopacity');\r\n                var maxOpacity = document.getElementById('maxopacity');\r\n                treemap.leafItemSettings.colorMapping[2].from = null;\r\n                treemap.leafItemSettings.colorMapping[2].to = null;\r\n                treemap.leafItemSettings.colorMapping[1].from = null;\r\n                treemap.leafItemSettings.colorMapping[1].to = null;\r\n                treemap.leafItemSettings.colorMapping[1].label = null;\r\n                treemap.leafItemSettings.colorMapping[3].from = null;\r\n                treemap.leafItemSettings.colorMapping[3].to = null;\r\n                treemap.leafItemSettings.colorMapping[0].from = 100000;\r\n                treemap.leafItemSettings.colorMapping[0].to = 2230800;\r\n                treemap.leafItemSettings.colorMapping[0].label = '0.1M - 2M';\r\n                treemap.leafItemSettings.colorMapping[0].value = null;\r\n                treemap.leafItemSettings.colorMapping[1].value = null;\r\n                treemap.leafItemSettings.colorMapping[2].value = null;\r\n                treemap.leafItemSettings.colorMapping[3].value = null;\r\n                treemap.leafItemSettings.colorMapping[2].color = null;\r\n                treemap.leafItemSettings.colorMapping[1].color = null;\r\n                treemap.leafItemSettings.colorMapping[3].color = null;\r\n                treemap.leafItemSettings.colorMapping[0].color = ['#F0D6AD', '#19547B'];\r\n                if (highlightCheckBox.checked) {\r\n                    document.getElementById('text2').style.display = 'block';\r\n                    document.getElementById('input2').style.display = 'block';\r\n                    document.getElementById('text3').style.display = 'block';\r\n                    document.getElementById('input3').style.display = 'block';\r\n                    treemap.leafItemSettings.colorMapping[0].minOpacity = parseFloat(minOpacity.value);\r\n                    treemap.leafItemSettings.colorMapping[0].maxOpacity = parseFloat(maxOpacity.value);\r\n                }\r\n                else {\r\n                    treemap.leafItemSettings.colorMapping[0].minOpacity = null;\r\n                    treemap.leafItemSettings.colorMapping[0].maxOpacity = null;\r\n                }\r\n                treemap.legendSettings.title.text = 'Area';\r\n                treemap.refresh();\r\n            }\r\n        }\r\n    });\r\n    sampleValue.appendTo('#colorMapping');\r\n"}