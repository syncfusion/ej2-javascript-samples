{"index.html":"<html><head><script src=\"//ej2.syncfusion.com/javascript/demos/treemap/color-mapping/datasource.js\" type=\"text/javascript\"></script>\n<script src=\"https://cdn.syncfusion.com/ej2/dist/ej2.min.js\" type=\"text/javascript\"></script>\n    <link href=\"https://cdn.syncfusion.com/ej2/material.css\" rel=\"stylesheet\">\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <style>\n            body{\n                touch-action:none;\n            }\n        </style></head><body><div class=\"stackblitz-container {{theme}}\"><div class=\"col-lg-9 control-section\">\n    <div class=\"content-wrapper\">\n        <div id=\"default-container\"></div>\n    </div>\n</div>\n<!-- Property Panel-->\n<div class=\"col-lg-3 property-section\">\n    <table id=\"property\" title=\"Properties\" style=\"width: 100%\">\n        <tbody>\n            <tr style=\"height: 50px\">\n                <td style=\"width: 10%\">\n                    <div class=\"property-text\">Color Mapping Type</div>\n                </td>\n                <td style=\"width: 30%;\">\n                    <select autocomplete=\"off\" id=\"colorMapping\">\n                        <option value=\"RangeColorMapping\" selected>Range</option>\n                        <option value=\"EqualColorMapping\">Equal</option>\n                        <option value=\"DesaturationColorMapping\">Desaturation</option>\n                    </select>\n                </td>\n            </tr>\n            <tr>\n                <td style=\"width: 40%\">\n                    <div class=\"property-text\" id=\"text1\" style=\"display: none\"> Change Opacity</div>\n                </td>\n                <td style=\"width: 40%;\">\n                    <div id=\"input1\" style=\"display: none\">\n                        <input type=\"checkbox\" id=\"opacity\">\n                    </div>\n                </td>\n            </tr>\n            <tr>\n                <td style=\"width: 50%\">\n                    <div class=\"property-text\" id=\"text2\" style=\"margin-top:12%; display: none\">Min Opacity</div>\n                </td>\n                <td style=\"width: 50%;\">\n                    <div id=\"input2\" style=\"display: none\">\n                        <input type=\"range\" id=\"minopacity\" step=\"0.1\" value=\"0.5\" min=\"0\" max=\"1\" style=\"width:100%;margin-top: 20%\">\n                    </div>\n                </td>\n            </tr>\n            <tr>\n                <td style=\"width: 50%\">\n                    <div class=\"property-text\" id=\"text3\" style=\"margin-top:12%; display: none\">Max Opacity</div>\n                </td>\n                <td style=\"width: 50%;\">\n                    <div id=\"input3\" style=\"display: none\">\n                        <input type=\"range\" id=\"maxopacity\" step=\"0.1\" value=\"1\" min=\"0\" max=\"1\" style=\"width:100%;margin-top: 20%\">\n                    </div>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</div>\n\n</div></body></html>","index.js":"{{ripple}}\n    var treemap = new ej.treemap.TreeMap({\n\n        titleSettings: {\n            text: 'Top 10 largest islands in the World',\n            textStyle: { size: '15px' }\n        },\n        format: 'n',\n        useGroupingSeparator: true,\n        rangeColorValuePath: 'Area',\n        dataSource: window.ColorMapping,\n        legendSettings: {\n            visible: true,\n            position: 'Bottom',\n            mode: 'Interactive',\n            height: '10',\n            title: {\n                text: 'Area'\n            },\n        },\n        tooltipSettings: {\n            visible: true,\n            format: 'Name: ${Name}<br>Area: ${Area} per square kms<br>Continent: ${Location}',\n            opacity: 0.8\n        },\n        weightValuePath: 'Area',\n        leafItemSettings: {\n            labelPath: 'Name',\n            border: { color: 'white', width: 0.5 },\n            colorMapping: [\n                { from: 100000, to: 250000, label: '0.1M - 0.25M', color: '#547C84' },\n                { from: 250000, to: 550000, label: '0.25M - 0.55M', color: '#37AFAB' },\n                { from: 550000, to: 750000, label: '0.55M - 0.75M', color: '#A4D6AD' },\n                { from: 750000, to: 2250000, label: '0.75M - 2M', color: '#DEEBAE' },\n                { to: null, from: null, color: 'null' },\n                { to: null, from: null, color: 'null' },\n            ]\n        },\n    });\n    treemap.appendTo('#default-container');\n    // code for property panel\n    var opacity;\n    var highlightCheckBox = new ej.buttons.CheckBox({\n        change: opacity, checked: false\n    }, '#opacity');\n    highlightCheckBox.change = opacity = function (e) {\n        var minOpacity = document.getElementById('minopacity');\n        var maxOpacity = document.getElementById('maxopacity');\n        if (e.checked) {\n            document.getElementById('text3').style.display = 'block';\n            document.getElementById('input3').style.display = 'block';\n            document.getElementById('text2').style.display = 'block';\n            document.getElementById('input2').style.display = 'block';\n            treemap.leafItemSettings.colorMapping[0].minOpacity = parseFloat(minOpacity.value);\n            treemap.leafItemSettings.colorMapping[0].maxOpacity = parseFloat(maxOpacity.value);\n            treemap.leafItemSettings.colorMapping[1].minOpacity = parseFloat(minOpacity.value);\n            treemap.leafItemSettings.colorMapping[1].maxOpacity = parseFloat(maxOpacity.value);\n            minOpacity.disabled = false;\n            maxOpacity.disabled = false;\n        }\n        else {\n            document.getElementById('text2').style.display = 'none';\n            document.getElementById('input2').style.display = 'none';\n            document.getElementById('text3').style.display = 'none';\n            document.getElementById('input3').style.display = 'none';\n            treemap.leafItemSettings.colorMapping[0].minOpacity = null;\n            treemap.leafItemSettings.colorMapping[0].maxOpacity = null;\n            treemap.leafItemSettings.colorMapping[1].minOpacity = null;\n            treemap.leafItemSettings.colorMapping[1].maxOpacity = null;\n            minOpacity.disabled = true;\n            maxOpacity.disabled = true;\n        }\n        treemap.refresh();\n    };\n    document.getElementById('minopacity').onpointermove = document.getElementById('minopacity').ontouchmove =\n        document.getElementById('minopacity').onchange = function () {\n            if (highlightCheckBox.checked && !highlightCheckBox.disabled) {\n                var slider = document.getElementById('minopacity');\n                var minOpacity = parseFloat(slider.value);\n                treemap.leafItemSettings.colorMapping[0].minOpacity = minOpacity;\n                treemap.leafItemSettings.colorMapping[1].minOpacity = minOpacity;\n                treemap.refresh();\n            }            \n        };\n    document.getElementById('maxopacity').onpointermove = document.getElementById('maxopacity').ontouchmove =\n        document.getElementById('maxopacity').onchange = function () {\n            if (highlightCheckBox.checked && !highlightCheckBox.disabled) {\n                var slider = document.getElementById('maxopacity');\n                var maxOpacity = parseFloat(slider.value);\n                treemap.leafItemSettings.colorMapping[0].maxOpacity = maxOpacity;\n                treemap.leafItemSettings.colorMapping[1].maxOpacity = maxOpacity;\n                treemap.refresh();\n            }\n        };\n    var sampleValue = new ej.dropdowns.DropDownList({\n        index: 0,\n        placeholder: 'Range ColorMaping',\n        width: '110%',\n        change: function () {\n            var element = sampleValue.value.toString();\n            if (element === 'RangeColorMapping') {\n                document.getElementById('text3').style.display = 'none';\n                document.getElementById('input3').style.display = 'none';\n                document.getElementById('text1').style.display = 'none';\n                document.getElementById('input1').style.display = 'none';\n                document.getElementById('text2').style.display = 'none';\n                document.getElementById('input2').style.display = 'none';\n                treemap.rangeColorValuePath = 'Area';\n                treemap.leafItemSettings.colorMapping[2].minOpacity = null;\n                treemap.leafItemSettings.colorMapping[2].maxOpacity = null;\n                treemap.leafItemSettings.colorMapping[1].minOpacity = null;\n                treemap.leafItemSettings.colorMapping[1].maxOpacity = null;\n                treemap.leafItemSettings.colorMapping[4].minOpacity = null;\n                treemap.leafItemSettings.colorMapping[4].maxOpacity = null;\n                treemap.leafItemSettings.colorMapping[3].minOpacity = null;\n                treemap.leafItemSettings.colorMapping[3].maxOpacity = null;\n                treemap.leafItemSettings.colorMapping[5].minOpacity = null;\n                treemap.leafItemSettings.colorMapping[5].maxOpacity = null;\n                treemap.leafItemSettings.colorMapping[0].from = 100000;\n                treemap.leafItemSettings.colorMapping[0].to = 250000;\n                treemap.leafItemSettings.colorMapping[0].value = null;\n                treemap.leafItemSettings.colorMapping[0].minOpacity = null;\n                treemap.leafItemSettings.colorMapping[0].maxOpacity = null;\n                treemap.leafItemSettings.colorMapping[1].value = null;\n                treemap.leafItemSettings.colorMapping[2].value = null;\n                treemap.leafItemSettings.colorMapping[0].label = '0.1M - 0.25M';\n                treemap.leafItemSettings.colorMapping[0].color = '#547C84';\n                treemap.leafItemSettings.colorMapping[1].from = 250000;\n                treemap.leafItemSettings.colorMapping[1].to = 500000;\n                treemap.leafItemSettings.colorMapping[1].label = '0.25M - 0.50M';\n                treemap.leafItemSettings.colorMapping[1].color = '#37AFAB';\n                treemap.leafItemSettings.colorMapping[2].from = 500000;\n                treemap.leafItemSettings.colorMapping[2].to = 750000;\n                treemap.leafItemSettings.colorMapping[2].label = '0.5M - 0.75M';\n                treemap.leafItemSettings.colorMapping[2].color = '#A4D6AD';\n                treemap.leafItemSettings.colorMapping[2].value = null;\n                treemap.leafItemSettings.colorMapping[3].from = 750000;\n                treemap.leafItemSettings.colorMapping[3].to = 2200000;\n                treemap.leafItemSettings.colorMapping[3].label = '0.75M - 2M';\n                treemap.leafItemSettings.colorMapping[3].color = '#DEEBAE';\n                treemap.leafItemSettings.colorMapping[4].from = null;\n                treemap.leafItemSettings.colorMapping[3].value = null;\n                treemap.leafItemSettings.colorMapping[4].to = null;\n                treemap.leafItemSettings.colorMapping[4].label = null;\n                treemap.leafItemSettings.colorMapping[4].value = null;\n                treemap.leafItemSettings.colorMapping[4].color = null;\n                treemap.leafItemSettings.colorMapping[5].to = null;\n                treemap.leafItemSettings.colorMapping[5].label = null;\n                treemap.leafItemSettings.colorMapping[5].value = null;\n                treemap.leafItemSettings.colorMapping[5].color = null;\n                treemap.leafItemSettings.colorMapping[5].from = null;\n                treemap.legendSettings.title.text = 'Area';\n                treemap.refresh();\n            }\n            else if (element === 'EqualColorMapping') {\n                document.getElementById('text1').style.display = 'none';\n                document.getElementById('input1').style.display = 'none';\n                document.getElementById('text2').style.display = 'none';\n                document.getElementById('input2').style.display = 'none';\n                document.getElementById('text3').style.display = 'none';\n                document.getElementById('input3').style.display = 'none';\n                treemap.rangeColorValuePath = null;\n                treemap.leafItemSettings.colorMapping[0].from = null;\n                treemap.leafItemSettings.colorMapping[0].to = null;\n                treemap.leafItemSettings.colorMapping[0].label = null;\n                treemap.leafItemSettings.colorMapping[1].label = null;\n                treemap.leafItemSettings.colorMapping[2].label = null;\n                treemap.leafItemSettings.colorMapping[3].label = null;\n                treemap.leafItemSettings.colorMapping[4].label = null;\n                treemap.leafItemSettings.colorMapping[0].value = 'North America';\n                treemap.leafItemSettings.colorMapping[0].color = '#DEEBAE';\n                treemap.leafItemSettings.colorMapping[1].from = null;\n                treemap.leafItemSettings.colorMapping[1].to = null;\n                treemap.leafItemSettings.colorMapping[1].value = 'Oceania';\n                treemap.leafItemSettings.colorMapping[1].color = '#A4D6AD';\n                treemap.leafItemSettings.colorMapping[2].from = null;\n                treemap.leafItemSettings.colorMapping[2].to = null;\n                treemap.leafItemSettings.colorMapping[2].value = 'Asia';\n                treemap.leafItemSettings.colorMapping[2].color = '#37AFAB';\n                treemap.leafItemSettings.colorMapping[3].from = null;\n                treemap.leafItemSettings.colorMapping[3].to = null;\n                treemap.leafItemSettings.colorMapping[3].value = 'Africa';\n                treemap.leafItemSettings.colorMapping[3].color = '#547C84';\n                treemap.leafItemSettings.colorMapping[4].from = null;\n                treemap.leafItemSettings.colorMapping[4].to = null;\n                treemap.leafItemSettings.colorMapping[4].value = 'Europe';\n                treemap.leafItemSettings.colorMapping[4].color = '#CEBF93';\n                treemap.leafItemSettings.colorMapping[0].minOpacity = null;\n                treemap.leafItemSettings.colorMapping[0].maxOpacity = null;\n                treemap.leafItemSettings.colorMapping[1].minOpacity = null;\n                treemap.leafItemSettings.colorMapping[1].maxOpacity = null;\n                treemap.leafItemSettings.colorMapping[2].minOpacity = null;\n                treemap.leafItemSettings.colorMapping[2].maxOpacity = null;\n                treemap.leafItemSettings.colorMapping[3].minOpacity = null;\n                treemap.leafItemSettings.colorMapping[3].maxOpacity = null;\n                treemap.leafItemSettings.colorMapping[4].minOpacity = null;\n                treemap.leafItemSettings.colorMapping[4].maxOpacity = null;\n                treemap.equalColorValuePath = 'Location';\n                treemap.legendSettings.title.text = 'Continent';\n                treemap.refresh();\n            }\n            else if (element === 'DesaturationColorMapping') {\n                document.getElementById('text1').style.display = 'block';\n                document.getElementById('input1').style.display = 'block';\n                treemap.rangeColorValuePath = 'Area';\n                treemap.equalColorValuePath = null;\n                var minOpacity = document.getElementById('minopacity');\n                var maxOpacity = document.getElementById('maxopacity');\n                treemap.leafItemSettings.colorMapping[2].from = null;\n                treemap.leafItemSettings.colorMapping[2].to = null;\n                treemap.leafItemSettings.colorMapping[1].from = null;\n                treemap.leafItemSettings.colorMapping[1].to = null;\n                treemap.leafItemSettings.colorMapping[1].label = null;\n                treemap.leafItemSettings.colorMapping[3].from = null;\n                treemap.leafItemSettings.colorMapping[3].to = null;\n                treemap.leafItemSettings.colorMapping[0].from = 100000;\n                treemap.leafItemSettings.colorMapping[0].to = 2230800;\n                treemap.leafItemSettings.colorMapping[0].label = '0.1M - 2M';\n                treemap.leafItemSettings.colorMapping[0].value = null;\n                treemap.leafItemSettings.colorMapping[1].value = null;\n                treemap.leafItemSettings.colorMapping[2].value = null;\n                treemap.leafItemSettings.colorMapping[3].value = null;\n                treemap.leafItemSettings.colorMapping[2].color = null;\n                treemap.leafItemSettings.colorMapping[1].color = null;\n                treemap.leafItemSettings.colorMapping[3].color = null;\n                treemap.leafItemSettings.colorMapping[0].color = ['#F0D6AD', '#19547B'];\n                if (highlightCheckBox.checked) {\n                    document.getElementById('text2').style.display = 'block';\n                    document.getElementById('input2').style.display = 'block';\n                    document.getElementById('text3').style.display = 'block';\n                    document.getElementById('input3').style.display = 'block';\n                    treemap.leafItemSettings.colorMapping[0].minOpacity = parseFloat(minOpacity.value);\n                    treemap.leafItemSettings.colorMapping[0].maxOpacity = parseFloat(maxOpacity.value);\n                }\n                else {\n                    treemap.leafItemSettings.colorMapping[0].minOpacity = null;\n                    treemap.leafItemSettings.colorMapping[0].maxOpacity = null;\n                }\n                treemap.legendSettings.title.text = 'Area';\n                treemap.refresh();\n            }\n        }\n    });\n    sampleValue.appendTo('#colorMapping');\n"}