{"index.html":"<html><head><script src=\"https://cdn.syncfusion.com/ej2/dist/ej2.min.js\" type=\"text/javascript\"></script>\n    <link href=\"https://cdn.syncfusion.com/ej2/material.css\" rel=\"stylesheet\">\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <style>\n            body{\n                touch-action:none;\n            }\n        </style></head><body><div class=\"stackblitz-container {{theme}}\"><div class=\"control-section e-rte-emoticon-tbar-section\">\n    <div class=\"sample-container\">\n        <div class=\"default-section\" id=\"rteSection\">\n            <div id=\"defaultRTE\">\n                <div style=\"display:block;\"><p style=\"margin-right:10px\">The custom command &quot;insert special character&quot; is configured as the last item of the toolbar. Click on the command and choose the special character you want to include from the popup.</p></div>     \n            </div>\n            <div>\n            <div id=\"emoticonTbarDialog\" style=\"display: none\">\n                <div id=\"rteEmoticons-smiley\">\n                    <div class=\"char_block\" title=\"GRINNING FACE\">&#x1F600;</div>\n                    <div class=\"char_block\" title=\"GRINNING FACE WITH SMILING EYES\">&#x1F601;</div>\n                    <div class=\"char_block\" title=\"FACE WITH TEARS OF JOY\">&#x1F602;</div>\n                    <div class=\"char_block\" title=\"SMILING FACE WITH OPEN MOUTH\">&#x1F603;</div>\n                    <div class=\"char_block\" title=\"SMILING FACE WITH OPEN MOUTH AND SMILING EYES\">&#x1F604;</div>\n                    <div class=\"char_block\" title=\"SMILING FACE WITH OPEN MOUTH AND COLD SWEAT\">&#x1F605;</div>\n                    <div class=\"char_block\" title=\"SMILING FACE WITH OPEN MOUTH AND TIGHTLY-CLOSED EYES\">&#x1F606;</div>\n                    <div class=\"char_block\" title=\"SMILING FACE WITH HALO\">&#x1F607;</div>\n                    <div class=\"char_block\" title=\"SMILING FACE WITH HORNS\">&#x1F608;</div>\n                    <div class=\"char_block\" title=\"WINKING FACE\">&#x1F609;</div>\n                    <div class=\"char_block\" title=\"SMILING FACE WITH SMILING EYES\">&#x1F60A;</div>\n                    <div class=\"char_block\" title=\"FACE SAVOURING DELICIOUS FOOD\">&#x1F60B;</div>\n                    <div class=\"char_block\" title=\"RELIEVED FACE\">&#x1F60C;</div>\n                    <div class=\"char_block\" title=\"SMILING FACE WITH HEART-SHAPED EYES\">&#x1F60D;</div>\n                    <div class=\"char_block\" title=\"SMILING FACE WITH SUNGLASSES\">&#x1F60E;</div>\n                    <div class=\"char_block\" title=\"SMIRKING FACE\">&#x1F60F;</div>\n                    <div class=\"char_block\" title=\"NEUTRAL FACE\">&#x1F610;</div>\n                    <div class=\"char_block\" title=\"EXPRESSIONLESS FACE\">&#x1F611;</div>\n                    <div class=\"char_block\" title=\"UNAMUSED FACE\">&#x1F612;</div>\n                    <div class=\"char_block\" title=\"FACE WITH COLD SWEAT\">&#x1F613;</div>\n                    <div class=\"char_block\" title=\"PENSIVE FACE\">&#x1F614;</div>\n                    <div class=\"char_block\" title=\"CONFUSED FACE\">&#x1F615;</div>\n                    <div class=\"char_block\" title=\"CONFOUNDED FACE\">&#x1F616;</div>\n                    <div class=\"char_block\" title=\"KISSING FACE\">&#x1F617;</div>\n                    <div class=\"char_block\" title=\"FACE THROWING A KISS\">&#x1F618;</div>\n                    <div class=\"char_block\" title=\"KISSING FACE WITH SMILING EYES\">&#x1F619;</div>\n                    <div class=\"char_block\" title=\"KISSING FACE WITH CLOSED EYES\">&#x1F61A;</div>\n                    <div class=\"char_block\" title=\"FACE WITH STUCK-OUT TONGUE\">&#x1F61B;</div>\n                    <div class=\"char_block\" title=\"FACE WITH STUCK-OUT TONGUE AND WINKING EYE\">&#x1F61C;</div>\n                    <div class=\"char_block\" title=\"FACE WITH STUCK-OUT TONGUE AND TIGHTLY-CLOSED EYES\">&#x1F61D;</div>\n                    <div class=\"char_block\" title=\"DISAPPOINTED FACE\">&#x1F61E;</div>\n                    <div class=\"char_block\" title=\"WORRIED FACE\">&#x1F61F;</div>\n                    <div class=\"char_block\" title=\"ANGRY FACE\">&#x1F620;</div>\n                    <div class=\"char_block\" title=\"POUTING FACE\">&#x1F621;</div>\n                    <div class=\"char_block\" title=\"CRYING FACE\">&#x1F622;</div>\n                    <div class=\"char_block\" title=\"PERSEVERING FACE\">&#x1F623;</div>\n                    <div class=\"char_block\" title=\"FACE WITH LOOK OF TRIUMPH\">&#x1F624;</div>\n                    <div class=\"char_block\" title=\"DISAPPOINTED BUT RELIEVED FACE\">&#x1F625;</div>\n                    <div class=\"char_block\" title=\"FROWNING FACE WITH OPEN MOUTH\">&#x1F626;</div>\n                    <div class=\"char_block\" title=\"ANGUISHED FACE   \">&#x1F627;</div>\n                    <div class=\"char_block\" title=\"FEARFUL FACE\">&#x1F628;</div>\n                    <div class=\"char_block\" title=\"WEARY FACE\">&#x1F629;</div>\n                    <div class=\"char_block\" title=\"SLEEPY FACE\">&#x1F62A;</div>\n                    <div class=\"char_block\" title=\"TIRED FACE\">&#x1F62B;</div>\n                    <div class=\"char_block\" title=\"GRIMACING FACE\">&#x1F62C;</div>\n                    <div class=\"char_block\" title=\"LOUDLY CRYING FACE\">&#x1F62D;</div>\n                    <div class=\"char_block\" title=\"FACE WITH OPEN MOUTH\">&#x1F62E;</div>\n                    <div class=\"char_block\" title=\"HUSHED FACE\">&#x1F62F;</div>\n                    <div class=\"char_block\" title=\"FACE WITH OPEN MOUTH AND COLD SWEAT\">&#x1F630;</div>\n                    <div class=\"char_block\" title=\"FACE SCREAMING IN FEAR\">&#x1F631;</div>\n                    <div class=\"char_block\" title=\"ASTONISHED FACE\">&#x1F632;</div>\n                    <div class=\"char_block\" title=\"FLUSHED FACE\">&#x1F633;</div>\n                    <div class=\"char_block\" title=\"SLEEPING FACE\">&#x1F634;</div>\n                    <div class=\"char_block\" title=\"DIZZY FACE\">&#x1F635;</div>\n                </div>\n                <div id=\"rteEmoticons-animal\" style=\"display: none\">\n                    <div class=\"char_block\" title=\"Monkey Face\">&#x1F435;</div>\n                    <div class=\"char_block\" title=\"Monkey\">&#x1F412;</div>\n                    <div class=\"char_block\" title=\"Gorilla\">&#x1F98D;</div>\n                    <div class=\"char_block\" title=\"Dog Face\">&#x1F436;</div>\n                    <div class=\"char_block\" title=\"Dog\">&#x1F415;</div>\n                    <div class=\"char_block\" title=\"Poodle\">&#x1F429;</div>\n                    <div class=\"char_block\" title=\"Wolf Face\">&#x1F43A;</div>\n                    <div class=\"char_block\" title=\"Fox Face\">&#x1F98A;</div>\n                    <div class=\"char_block\" title=\"Raccoon\">&#x1F99D;</div>\n                    <div class=\"char_block\" title=\"Cat Face\">&#x1F431;</div>\n                    <div class=\"char_block\" title=\"Cat\">&#x1F408;</div>\n                    <div class=\"char_block\" title=\"Lion Face\">&#x1F981;</div>\n                    <div class=\"char_block\" title=\"Tiger Face\">&#x1F42F;</div>\n                    <div class=\"char_block\" title=\"Tiger\">&#x1F405;</div>\n                    <div class=\"char_block\" title=\"Leopard\">&#x1F406;</div>\n                    <div class=\"char_block\" title=\"Horse Face\">&#x1F434;</div>\n                    <div class=\"char_block\" title=\"Horse\">&#x1F40E;</div>\n                    <div class=\"char_block\" title=\"Unicorn Face\">&#x1F984;</div>\n                    <div class=\"char_block\" title=\"Zebra\">&#x1F993;</div>\n                    <div class=\"char_block\" title=\"Deer\">&#x1F98C;</div>\n                    <div class=\"char_block\" title=\"Cow Face\">&#x1F42E;</div>\n                    <div class=\"char_block\" title=\"Ox\">&#x1F402;</div>\n                    <div class=\"char_block\" title=\"Water Buffalo\">&#x1F403;</div>\n                    <div class=\"char_block\" title=\"Cow\">&#x1F404;</div>\n                    <div class=\"char_block\" title=\"Pig Face\">&#x1F437;</div>\n                    <div class=\"char_block\" title=\"Pig\">&#x1F416;</div>\n                    <div class=\"char_block\" title=\"Boar\">&#x1F417;</div>\n                    <div class=\"char_block\" title=\"Pig Nose\">&#x1F43D;</div>\n                    <div class=\"char_block\" title=\"Ram\">&#x1F40F;</div>\n                    <div class=\"char_block\" title=\"Ewe\">&#x1F411;</div>\n                    <div class=\"char_block\" title=\"Goat\">&#x1F410;</div>\n                    <div class=\"char_block\" title=\"Camel\">&#x1F42A;</div>\n                    <div class=\"char_block\" title=\"Two-Hump Camel\">&#x1F42B;</div>\n                    <div class=\"char_block\" title=\"Lama\">&#x1F999;</div>\n                    <div class=\"char_block\" title=\"Giraffe\">&#x1F992;</div>\n                    <div class=\"char_block\" title=\"Elephant\">&#x1F418;</div>\n                    <div class=\"char_block\" title=\"Rhinoceros\">&#x1F98F;</div>\n                    <div class=\"char_block\" title=\"Hippopotamus\">&#x1F99B;</div>\n                    <div class=\"char_block\" title=\"Mouse Face\">&#x1F42D;</div>\n                    <div class=\"char_block\" title=\"Mouse\">&#x1F401;</div>\n                    <div class=\"char_block\" title=\"Rat\">&#x1F400;</div>\n                    <div class=\"char_block\" title=\"Hamster Face\">&#x1F439;</div>\n                    <div class=\"char_block\" title=\"Rabbit Face\">&#x1F430;</div>\n                    <div class=\"char_block\" title=\"Rabbit\">&#x1F407;</div>\n                    <div class=\"char_block\" title=\"Chipmunk\">&#x1F43F;</div>\n                    <div class=\"char_block\" title=\"Hedgehog\">&#x1F994;</div>\n                    <div class=\"char_block\" title=\"Bat\">&#x1F987;</div>\n                    <div class=\"char_block\" title=\"Bear Face\">&#x1F43B;</div>\n                    <div class=\"char_block\" title=\"Koala\">&#x1F428;</div>\n                    <div class=\"char_block\" title=\"Panda Face\">&#x1F43C;</div>\n                    <div class=\"char_block\" title=\"Kangaroo\">&#x1F998;</div>\n                    <div class=\"char_block\" title=\"Badger\">&#x1F9A1;</div>\n                    <div class=\"char_block\" title=\"Paw Prints\">&#x1F43E;</div>\n                    <div class=\"char_block\" title=\"Frog Face\">&#x1F438;</div>\n                </div>\n\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n\n<style>\n    .e-rte-emoticon-tbar-section #special_char,\n    .e-rte-emoticon-tbar-section .char_block {\n        display: inline-block;\n    }\n\n    #emot_tbar,\n    #emot_tbar div{\n        cursor: pointer;\n        font-size: 16px;\n    }\n\n    .e-bigger #emot_tbar div {\n        font-size: 18px;\n    }\n\n    #rteEmoticons-smiley  , #rteEmoticons-animal{\n        padding: 15px 0 15px 15px;\n    }\n\n    .material .e-rte-emoticon-tbar-section .char_block.e-active {\n        outline: 1px solid #e3165b;\n        border-color: #e3165b;\n    }\n\n    .fabric .e-rte-emoticon-tbar-section .char_block.e-active {\n        outline: 1px solid #0078d6;\n        border-color: #0078d6;\n    }\n\n    .bootstrap .e-rte-emoticon-tbar-section .char_block.e-active {\n        outline: 1px solid #317ab9;\n        border-color: #317ab9;\n    }\n\n    .highcontrast .e-rte-emoticon-tbar-section .char_block.e-active {\n        outline: 1px solid #ffd939;\n        border-color: #ffd939;\n    }\n\n    .fabric.e-bigger .e-toolbar .e-toolbar-items .e-toolbar-item .e-tbar-btn.e-btn .e-tbar-btn-text,\n    .highcontrast.e-bigger .e-toolbar .e-toolbar-items .e-toolbar-item .e-tbar-btn.e-btn .e-tbar-btn-text {\n        padding-right: 10px;\n    }\n\n    .bootstrap.e-bigger .e-toolbar .e-toolbar-items .e-toolbar-item .e-tbar-btn.e-btn .e-tbar-btn-text,\n    .bootstrap .e-toolbar .e-toolbar-items .e-toolbar-item .e-tbar-btn.e-btn .e-tbar-btn-text {\n        padding-right: 6px;\n    }\n\n    .fabric .e-toolbar .e-toolbar-items .e-toolbar-item .e-tbar-btn.e-btn .e-tbar-btn-text,\n    .highcontrast .e-toolbar .e-toolbar-items .e-toolbar-item .e-tbar-btn.e-btn .e-tbar-btn-text {\n        padding-right: 8px;\n    }\n\n    .e-rte-emoticon-tbar-section .char_block {\n        width: 30px;\n        height: 30px;\n        line-height: 30px;\n        margin: 0 5px 5px 0;\n        text-align: center;\n        vertical-align: middle;\n        border: 1px solid #DDDDDD;\n        font-size: 20px;\n        cursor: pointer;\n        user-select: none;\n    }\n\n    @media (min-width: 320px) and (max-width: 480px) {\n        .fabric.e-bigger #emoticonTbarDialog {\n            min-width: 281px;\n        }\n\t\t\n\t\t#rteEmoticons-smiley  , #rteEmoticons-animal{\n        padding: 15px 0 15px 20px;\n\t\t}\n\n        .fabric #emoticonTbarDialog {\n            min-width: 241px;\n        }\n\n        .bootstrap.e-bigger #emoticonTbarDialog,\n        .bootstrap #emoticonTbarDialog {\n            min-width: 223px;\n        }\n\n        .highcontrast.e-bigger #emoticonTbarDialog {\n            min-width: 283px;\n        }\n        .highcontrast #emoticonTbarDialog {\n            min-width: 243px;\n        }\n        .material #emoticonTbarDialog {\n            min-width: 224px;\n        }\n        .material.e-bigger #emoticonTbarDialog {\n            min-width: 236px;\n        }\n        #rteEmoticons-smiley  , #rteEmoticons-animal{\n        padding: 15px 0 15px 0px;\n        }\n    }\n</style>\n\n","index.js":"{{ripple}}/*jshint esversion: 6 */\r\n/**\r\n * RichTextEditor insert emoticons sample\r\n */\r\n\r\n    var tabObj;\r\n    var selection = new ej.richtexteditor.NodeSelection();\r\n    var range;\r\n    var dialog;\r\n    var customBtn;\r\n    var dialogCtn;\r\n    var saveSelection;\r\n    var defaultRTE = new ej.richtexteditor.RichTextEditor({\r\n        toolbarSettings: {\r\n            items: ['Bold', 'Italic', 'Underline', '|', 'Formats', 'Alignments', 'OrderedList',\r\n                'UnorderedList', '|', 'CreateLink', 'Image', '|', 'SourceCode',\r\n                {\r\n                    tooltipText: 'Insert Emoticon',\r\n                    template: '<button class=\"e-tbar-btn e-btn\" tabindex=\"-1\" id=\"emot_tbar\"  style=\"width:100%\"><div class=\"e-tbar-btn-text\" style=\"font-weight: 500;\">&#128578;</div></button>'\r\n                }, '|', 'Undo', 'Redo'\r\n            ]\r\n        },\r\n        created: onCreate,\r\n        actionComplete: actionCompleteHandler\r\n    });\r\n    defaultRTE.appendTo('#defaultRTE');\r\n\r\n    function onCreate() {\r\n        customBtn = defaultRTE.element.querySelector('#emot_tbar');\r\n        dialogCtn =  '<div id=\"emotIcons\"></div>';\r\n        dialog = new ej.popups.Dialog({\r\n            header: 'Custom Emoticons',\r\n            content: dialogCtn,\r\n            target: document.getElementById('rteSection'),\r\n            showCloseIcon: false,\r\n            isModal: true,\r\n            width: '43%',\r\n            height: 'auto',\r\n            overlayClick: dialogOverlay,\r\n            buttons: [\r\n                { buttonModel: { content: \"Insert\", isPrimary: true }, click: onInsert },\r\n                { buttonModel: { content: 'Cancel' }, click: dialogOverlay }\r\n            ],\r\n            created: onDialogCreate,\r\n            open : onOpen\r\n        });\r\n        dialog.appendTo('#emoticonTbarDialog');\r\n        dialog.hide();\r\n        customBtn.onclick = function (e) {\r\n            \r\n            defaultRTE.contentModule.getEditPanel().focus();\r\n            dialog.element.style.display = '';\r\n            range = selection.getRange(document);\r\n            saveSelection = selection.save(range, document);\r\n            dialog.show();\r\n        };\r\n    }\r\n    function createTab() {\r\n        tabObj = new ej.navigations.Tab({\r\n            items: [\r\n                {\r\n                    header: { 'text': '&#128578;' },\r\n                    content:  '#rteEmoticons-smiley'\r\n                },\r\n                {\r\n                    header: { 'text': '&#128053;' },\r\n                    content: '#rteEmoticons-animal'\r\n                }\r\n            ]\r\n        });\r\n        tabObj.appendTo('#emotIcons');\r\n    }\r\n    function onDialogCreate() {\r\n            createTab();\r\n        var dialogCtn = document.getElementById('emoticonTbarDialog');\r\n        dialogCtn.onclick = function (e) {\r\n            var target = e.target;\r\n            var activeEle = dialog.element.querySelector('.char_block.e-active');\r\n            if (target.classList.contains('char_block')) {\r\n                target.classList.add('e-active');\r\n                if (activeEle) {\r\n                    activeEle.classList.remove('e-active');\r\n                }\r\n            }\r\n        };\r\n    }\r\n    function onInsert() {\r\n        var activeEle = dialog.element.querySelector('.char_block.e-active');\r\n        if (activeEle) {\r\n            if (defaultRTE.formatter.getUndoRedoStack().length === 0) {\r\n                defaultRTE.formatter.saveData();\r\n            }\r\n            saveSelection.restore();\r\n            defaultRTE.executeCommand('insertText', activeEle.textContent);\r\n            defaultRTE.formatter.saveData();\r\n            defaultRTE.formatter.enableUndo(defaultRTE);\r\n        }\r\n        dialogOverlay();\r\n    }\r\n    function onOpen() {\r\n        document.getElementById(\"emotIcons\").ej2_instances[0].refresh();\r\n    }\r\n    function dialogOverlay() {\r\n        var activeEle = dialog.element.querySelector('.char_block.e-active');\r\n        if (activeEle) {\r\n            activeEle.classList.remove('e-active');\r\n        }\r\n        dialog.hide();\r\n    }\r\n    function actionCompleteHandler(e) {\r\n        if (e.requestType === 'SourceCode') {\r\n          defaultRTE.getToolbar().querySelector('#emot_tbar').parentElement.classList.add('e-overlay');\r\n        } else if (e.requestType === 'Preview') {\r\n          defaultRTE.getToolbar().querySelector('#emot_tbar').parentElement.classList.remove('e-overlay');\r\n        }\r\n    }\r\n      "}