{"index.html":"<html><head><script src=\"//ej2.syncfusion.com/javascript/demos/schedule/search-events/datasource.js\" type=\"text/javascript\"></script>\n<script src=\"https://cdn.syncfusion.com/ej2/dist/ej2.min.js\" type=\"text/javascript\"></script>\n    <link href=\"https://cdn.syncfusion.com/ej2/material.css\" rel=\"stylesheet\">\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <style>\n            body{\n                touch-action:none;\n            }\n        </style></head><body><div class=\"stackblitz-container {{theme}}\"><div class=\"col-lg-9 control-section\">\n    <div class=\"content-wrapper\">\n        <div class=\"col-md-12\">\n            <div id=\"schedule\"></div>\n            <div id=\"grid\"></div>\n        </div>\n    </div>\n</div>\n<div class=\"col-lg-3 property-section property-customization\">\n    <div class=\"property-panel-section\">\n        <p class=\"property-panel-header header-customization\" style=\"width: 100%\">Search by all event fields</p>\n        <div class=\"property-panel-content\">\n            <input type=\"text\" class=\"e-input\" id=\"events-search\">\n        </div>\n        <form class=\"event-search\" id=\"form-search\">\n            <p class=\"property-panel-header  header-customization\" style=\"width: 100%\">Search by specific event fields</p>\n            <table id=\"property-specific\" style=\"width: 100%\">\n                <tbody>\n                    <tr class=\"row\">\n                        <td class=\"property-panel-content\" colspan=\"2\">\n                            <input type=\"text\" class=\"search-field\" id=\"searchEventName\" name=\"Subject\">\n                        </td>\n                    </tr>\n                    <tr class=\"row\" style=\"height: 45px\">\n                        <td class=\"property-panel-content\" colspan=\"2\">\n                            <input type=\"text\" class=\"search-field\" id=\"searchEventLocation\" name=\"Location\">\n                        </td>\n                    </tr>\n                    <tr class=\"row\" style=\"height: 45px\">\n                        <td class=\"property-panel-content\" colspan=\"2\">\n                            <input type=\"text\" class=\"search-field e-start-time\" id=\"startScheduleDate\" name=\"StartTime\">\n                        </td>\n                    </tr>\n                    <tr class=\"row\" style=\"height: 45px\">\n                        <td class=\"property-panel-content\" colspan=\"2\">\n                            <input type=\"text\" class=\"search-field e-end-time\" id=\"endScheduleDate\" name=\"EndTime\">\n                        </td>\n                    </tr>\n                    <tr class=\"row\" style=\"height: 45px\">\n                        <td class=\"e-field button-customization\" style=\"width: 50%; padding: 15px\">\n                            <input id=\"seperateSearch\" type=\"button\" value=\"Search\">\n                        </td>\n                        <td class=\"e-field button-customization\" style=\"width: 50%; padding: 15px\">\n                            <input id=\"clear\" type=\"button\" value=\"Clear\">\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </form>\n    </div>\n</div>\n\n\n\n\n\n","index.js":"{{ripple}}\n    var data = new ej.base.extend([], window.scheduleData, null, true);\n    var scheduleObj = new ej.schedule.Schedule({\n        width: '100%',\n        height: '550px',\n        selectedDate: new Date(2019, 0, 10),\n        eventSettings: { dataSource: data }\n    });\n    scheduleObj.appendTo('#schedule');\n\n    ej.inputs.Input.createInput({\n        element: document.getElementById('events-search'),\n        properties: { placeholder: 'Enter the Search text' }\n    });\n\n    ej.inputs.Input.createInput({\n        element: document.getElementById('searchEventName'),\n        properties: { placeholder: 'Subject' }\n    });\n\n    ej.inputs.Input.createInput({\n        element: document.getElementById('searchEventLocation'),\n        properties: { placeholder: 'Location' }\n    });\n\n    var startScheduleDate = new ej.calendars.DatePicker({ value: null, showClearButton: false, placeholder: 'Start Date' });\n    startScheduleDate.appendTo('#startScheduleDate');\n\n    var endScheduleDate = new ej.calendars.DatePicker({ value: null, showClearButton: false, placeholder: 'End Date' });\n    endScheduleDate.appendTo('#endScheduleDate');\n\n    var searchButton = new ej.buttons.Button();\n    searchButton.appendTo('#seperateSearch');\n    document.getElementById('seperateSearch').onclick = function () {\n        var searchObj = [];\n        var startDate;\n        var endDate;\n        var formElements = [].slice.call(document.querySelectorAll('.event-search .search-field'));\n        formElements.forEach(function (node) {\n            if (node.value && node.value !== '') {\n                var fieldOperator = 'contains';\n                var predicateCondition = 'or';\n                var fieldValue = node.value;\n                var matchCase = true;\n                if (node.classList.contains('e-datepicker')) {\n                    fieldOperator = node.classList.contains('e-start-time') ? 'greaterthanorequal' : 'lessthanorequal';\n                    predicateCondition = 'and';\n                    var fieldInstance = ((node)).ej2_instances[0];\n                    fieldValue = fieldInstance.value;\n                    if (node.classList.contains('e-start-time')) {\n                        startDate = new Date(+fieldValue);\n                    }\n                    if (node.classList.contains('e-end-time')) {\n                        var date = new Date(+fieldInstance.value);\n                        fieldValue = new Date(date.setDate(date.getDate() + 1));\n                        endDate = fieldValue;\n                    }\n                    matchCase = false;\n                }\n                searchObj.push({\n                    field: node.name, operator: fieldOperator, value: fieldValue, predicate: predicateCondition,\n                    matchcase: matchCase\n                });\n            }\n        });\n        if (searchObj.length > 0) {\n            var filterCondition = searchObj[0];\n            var predicate = new ej.data.Predicate(\n                filterCondition.field, filterCondition.operator, filterCondition.value, filterCondition.matchcase);\n            for (var i = 1; i < searchObj.length; i++) {\n                predicate = predicate.and(searchObj[i].field, searchObj[i].operator, searchObj[i].value, searchObj[i].matchcase);\n            }\n            var result = new ej.data.DataManager(scheduleObj.getEvents(startDate, endDate, true)).\n                executeLocal(new ej.data.Query().where(predicate));\n            showSearchEvents('show', result);\n        } else {\n            showSearchEvents('hide');\n        }\n    };\n\n    var clearButton = new ej.buttons.Button();\n    clearButton.appendTo('#clear');\n    document.getElementById('clear').onclick = function () {\n        document.getElementById('schedule').style.display = 'block';\n        document.getElementById('form-search').reset();\n        showSearchEvents('hide');\n    };\n\n    document.getElementById('events-search').onkeyup = function (args) {\n        var searchString = (args.target).value;\n        if (searchString !== '') {\n            new ej.data.DataManager(scheduleObj.getEvents(null, null, true)).executeQuery(new ej.data.Query().\n                search(searchString, ['Subject', 'Location', 'Description'], null, true, true)).then(function (e) {\n                    if ((e.result).length > 0) {\n                        showSearchEvents('show', e.result);\n                    } else {\n                        showSearchEvents('hide');\n                    }\n                });\n        } else {\n            showSearchEvents('hide');\n        }\n    };\n\n    function showSearchEvents(type, data) {\n        if (type === 'show') {\n            if (document.getElementById('grid').classList.contains('e-grid')) {\n                var gridObj = document.querySelector('#grid').ej2_instances[0];\n                gridObj.dataSource = data;\n                gridObj.dataBind();\n            } else {\n                var grid = new ej.grids.Grid({\n                    dataSource: data,\n                    height: 505,\n                    width: 'auto',\n                    columns: [\n                        { field: 'Subject', headerText: 'Subject', width: 120 },\n                        { field: 'Location', headerText: 'Location', width: 120 },\n                        { field: 'StartTime', headerText: 'StartTime', width: 120, format: { type: 'dateTime', format: 'M/d/y hh:mm a' } },\n                        { field: 'EndTime', headerText: 'EndTime', width: 120, format: { type: 'dateTime', format: 'M/d/y hh:mm a' } },\n                    ]\n                });\n                grid.appendTo(document.querySelector('#grid'));\n                scheduleObj.element.style.display = 'none';\n            }\n        } else {\n            var resultGridObj = (document.querySelector('#grid')).ej2_instances;\n            if (resultGridObj && resultGridObj.length > 0 && !resultGridObj[0].isDestroyed) {\n                resultGridObj[0].destroy();\n            }\n            scheduleObj.element.style.display = 'block';\n        }\n    }\n"}