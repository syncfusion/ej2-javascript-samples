{"index.html":"<html><head><script src=\"//ej2.syncfusion.com/javascript/demos/schedule/timeline-resources/datasource.js\" type=\"text/javascript\"></script>\n<script src=\"https://cdn.syncfusion.com/ej2/dist/ej2.min.js\" type=\"text/javascript\"></script>\n    <link href=\"https://cdn.syncfusion.com/ej2/material.css\" rel=\"stylesheet\">\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <style>\n            body{\n                touch-action:none;\n            }\n        </style></head><body><div class=\"stackblitz-container {{theme}}\"><div class=\"col-lg-12 control-section\">\n    <div class=\"content-wrapper\">\n        <div id=\"Schedule\"></div>\n    </div>\n</div>\n\n\n\n\n\n<script id=\"resource-template\" type=\"text/x-template\">\n    <div class='template-wrap'> \n        <div class=\"room-name\">${getRoomName(data)}</div>\n        <div class=\"room-type\">${getRoomType(data)}</div>\n        <div class=\"room-capacity\">${getRoomCapacity(data)}</div>\n    </div>\n</script>\n<style>\n    .e-schedule .e-timeline-view .e-resource-left-td {\n        vertical-align: bottom;\n    }\n\n    .e-schedule.e-device .e-timeline-view .e-resource-left-td {\n        width: 75px;\n    }\n\n    .e-schedule .e-timeline-view .e-resource-left-td .e-resource-text {\n        display: flex;\n        font-weight: 500;\n        padding: 0;\n    }\n\n    .e-schedule .e-timeline-view .e-resource-left-td .e-resource-text>div {\n        border-right: 1px solid rgba(0, 0, 0, 0.12);\n        border-top: 1px solid rgba(0, 0, 0, 0.12);\n        flex: 0 0 33.3%;\n        font-weight: 500;\n        height: 36px;\n        line-height: 34px;\n        padding-left: 5px;\n    }\n\n    .e-schedule .e-timeline-view .e-resource-left-td .e-resource-text>div:last-child {\n        border-right: 0;\n    }\n\n    .e-schedule .template-wrap {\n        display: flex;\n        height: 100%;\n        text-align: left;\n    }\n\n    .e-schedule .template-wrap>div {\n        border-right: 1px solid rgba(0, 0, 0, 0.12);\n        flex: 0 0 33.3%;\n        font-weight: 500;\n        line-height: 58px;\n        overflow: hidden;\n        padding-left: 5px;\n        text-overflow: ellipsis;\n    }\n\n    .e-schedule .template-wrap>div:last-child {\n        border-right: 0;\n    }\n\n    .e-schedule .e-timeline-view .e-resource-cells,\n    .e-schedule .e-timeline-month-view .e-resource-cells {\n        padding-left: 0;\n    }\n\n    .e-schedule .e-timeline-view .e-date-header-wrap table col,\n    .e-schedule .e-timeline-view .e-content-wrap table col {\n        width: 100px;\n    }\n\n    .e-schedule .e-read-only {\n        opacity: .8;\n    }\n\n    @media (max-width: 550px) {\n        .e-schedule .e-timeline-view .e-resource-left-td {\n            width: 100px;\n        }\n        .e-schedule .e-timeline-view .e-resource-left-td .e-resource-text>div,\n        .e-schedule .template-wrap>div {\n            flex: 0 0 100%;\n        }\n        .e-schedule .template-wrap>div:first-child {\n            border-right: 0;\n        }\n        .e-schedule .e-timeline-view .e-resource-left-td .e-resource-text>div:first-child {\n            border-right: 0;\n        }\n        .e-schedule .room-type,\n        .e-schedule .room-capacity {\n            display: none;\n        }\n    }\n</style></div></body></html>","index.js":"{{ripple}}\r\n    var isReadOnly = function (endDate) {\r\n        return (endDate < new Date(2018, 6, 31, 0, 0));\r\n    };\r\n    window.getRoomName = function (value) {\r\n        return value.resourceData[value.resource.textField];\r\n    };\r\n    window.getRoomType = function (value) {\r\n        return value.resourceData.type;\r\n    };\r\n    window.getRoomCapacity = function (value) {\r\n        return value.resourceData.capacity;\r\n    };\r\n    var data = new ej.base.extend([], window.roomData, null, true);\r\n    var scheduleObj = new ej.schedule.Schedule({\r\n        width: '100%',\r\n        height: '650px',\r\n        selectedDate: new Date(2018, 7, 1),\r\n        currentView: 'TimelineWeek',\r\n        workHours: {\r\n            start: '08:00',\r\n            end: '18:00'\r\n        },\r\n        timeScale: {\r\n            slotCount: 1,\r\n            interval: 60\r\n        },\r\n        views: [\r\n            { option: 'TimelineDay' },\r\n            { option: 'TimelineWeek' }\r\n        ],\r\n        resourceHeaderTemplate: '#resource-template',\r\n        group: {\r\n            enableCompactView: false,\r\n            resources: ['MeetingRoom']\r\n        },\r\n        resources: [{\r\n            field: 'RoomId', title: 'Room Type',\r\n            name: 'MeetingRoom', allowMultiple: true,\r\n            dataSource: [\r\n                { text: 'Jammy', id: 1, color: '#ea7a57', capacity: 20, type: 'Conference' },\r\n                { text: 'Tweety', id: 2, color: '#7fa900', capacity: 7, type: 'Cabin' },\r\n                { text: 'Nestle', id: 3, color: '#5978ee', capacity: 5, type: 'Cabin' },\r\n                { text: 'Phoenix', id: 4, color: '#fec200', capacity: 15, type: 'Conference' },\r\n                { text: 'Mission', id: 5, color: '#df5286', capacity: 25, type: 'Conference' },\r\n                { text: 'Hangout', id: 6, color: '#00bdae', capacity: 10, type: 'Cabin' },\r\n                { text: 'Rick Roll', id: 7, color: '#865fcf', capacity: 20, type: 'Conference' },\r\n                { text: 'Rainbow', id: 8, color: '#1aaa55', capacity: 8, type: 'Cabin' },\r\n                { text: 'Swarm', id: 9, color: '#df5286', capacity: 30, type: 'Conference' },\r\n                { text: 'Photogenic', id: 10, color: '#710193', capacity: 25, type: 'Conference' }\r\n            ],\r\n            textField: 'text', idField: 'id', colorField: 'color'\r\n        }],\r\n        eventSettings: {\r\n            dataSource: data,\r\n            fields: {\r\n                id: 'Id',\r\n                subject: { title: 'Summary', name: 'Subject' },\r\n                location: { title: 'Location', name: 'Location' },\r\n                description: { title: 'Comments', name: 'Description' },\r\n                startTime: { title: 'From', name: 'StartTime' },\r\n                endTime: { title: 'To', name: 'EndTime' }\r\n            }\r\n        },\r\n        popupOpen: function (args) {\r\n            var data = args.data;\r\n            if (args.type === 'QuickInfo' || args.type === 'Editor' || args.type === 'RecurrenceAlert' || args.type === 'DeleteAlert') {\r\n                var target = (args.type === 'RecurrenceAlert' ||\r\n                    args.type === 'DeleteAlert') ? data.element[0] : args.target;\r\n                if (!ej.base.isNullOrUndefined(target) && target.classList.contains('e-work-cells')) {\r\n                    if ((target.classList.contains('e-read-only-cells')) || (!scheduleObj.isSlotAvailable(data))) {\r\n                        args.cancel = true;\r\n                    }\r\n                }\r\n                else if (!ej.base.isNullOrUndefined(target) && target.classList.contains('e-appointment') &&\r\n                    (isReadOnly(data.EndTime))) {\r\n                    args.cancel = true;\r\n                }\r\n            }\r\n        },\r\n        renderCell: function (args) {\r\n            if (args.element.classList.contains('e-work-cells')) { \r\n                if (args.date < new Date(2018, 6, 31, 0, 0)) {\r\n                    args.element.setAttribute('aria-readonly', 'true');\r\n                    args.element.classList.add('e-read-only-cells');\r\n                }\r\n            }\r\n            if (args.elementType === 'emptyCells' && args.element.classList.contains('e-resource-left-td')) {\r\n                var target = args.element.querySelector('.e-resource-text');\r\n                target.innerHTML = '<div class=\"name\">Rooms</div><div class=\"type\">Type</div><div class=\"capacity\">Capacity</div>';\r\n            }\r\n        },\r\n        eventRendered: function (args) {\r\n            var data = args.data;\r\n            if (isReadOnly(data.EndTime)) {\r\n                args.element.setAttribute('aria-readonly', 'true');\r\n                args.element.classList.add('e-read-only');\r\n            }\r\n        },\r\n        actionBegin: function (args) {\r\n            if (args.requestType === 'eventCreate' || args.requestType === 'eventChange') {\r\n                var data = void 0;\r\n                if (args.requestType === 'eventCreate') {\r\n                    data = args.data[0];\r\n                }\r\n                else if (args.requestType === 'eventChange') {\r\n                    data = args.data;\r\n                }\r\n                if (!scheduleObj.isSlotAvailable(data)) {\r\n                    args.cancel = true;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    scheduleObj.appendTo('#Schedule');\r\n"}