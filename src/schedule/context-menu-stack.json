{"index.html":"<html><head><script src=\"//ej2.syncfusion.com/javascript/demos/schedule/context-menu/datasource.js\" type=\"text/javascript\"></script>\n<script src=\"https://cdn.syncfusion.com/ej2/dist/ej2.min.js\" type=\"text/javascript\"></script>\n    <link href=\"https://cdn.syncfusion.com/ej2/material.css\" rel=\"stylesheet\">\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <style>\n            body{\n                touch-action:none;\n            }\n        </style></head><body><div class=\"stackblitz-container {{theme}}\"><div class=\"control-section\">\n    <div class=\"content-wrapper\">\n        <div id=\"Schedule\">\n        </div>\n        <ul id=\"ContextMenu\"></ul>\n    </div>\n</div>\n\n<style>\n    .schedule-context-menu .e-menu-item .new::before {\n        content: '\\e7f9';\n    }\n\n    .schedule-context-menu .e-menu-item .edit::before {\n        content: '\\ea9a';\n    }\n\n    .schedule-context-menu .e-menu-item .recurrence::before {\n        content: '\\e308';\n        font-weight: bold;\n    }\n\n    .schedule-context-menu .e-menu-item .today::before {\n        content: '\\e322';\n    }\n\n    .schedule-context-menu .e-menu-item .delete::before {\n        content: '\\e94a';\n    }\n    \n    .e-bigger .schedule-context-menu ul .e-menu-item .e-menu-icon {\n        font-size: 14px;\n    }\n\n    .schedule-context-menu ul .e-menu-item .e-menu-icon {\n        font-size: 12px;\n    }\n\n</style>\n\n\n</div></body></html>","index.js":"{{ripple}}\n    var data = new ej.base.extend([], window.scheduleData, null, true);\n    var scheduleObj = new ej.schedule.Schedule({\n        width: '100%',\n        height: '650px',\n        selectedDate: new Date(2019, 0, 10),\n        eventSettings: {\n            dataSource: data\n        },\n        allowDragAndDrop: false,\n        allowResizing: false,\n    });\n    scheduleObj.appendTo('#Schedule');\n\n    var menuObj, selectedTarget;\n\n    var menuItems = [{\n        text: 'New Event',\n        iconCss: 'e-icons new',\n        id: 'Add'\n    }, {\n        text: 'New Recurring Event',\n        iconCss: 'e-icons recurrence',\n        id: 'AddRecurrence'\n    }, {\n        text: 'Today',\n        iconCss: 'e-icons today',\n        id: 'Today'\n    }, {\n        text: 'Edit Event',\n        iconCss: 'e-icons edit',\n        id: 'Save'\n    }, {\n        text: 'Edit Event',\n        id: 'EditRecurrenceEvent',\n        iconCss: 'e-icons edit',\n        items: [{\n            text: 'Edit Occurrence',\n            id: 'EditOccurrence'\n        }, {\n            text: 'Edit Series',\n            id: 'EditSeries'\n        }]\n    }, {\n        text: 'Delete Event',\n        iconCss: 'e-icons delete',\n        id: 'Delete'\n    }, {\n        text: 'Delete Event',\n        id: 'DeleteRecurrenceEvent',\n        iconCss: 'e-icons delete',\n        items: [{\n            text: 'Delete Occurrence',\n            id: 'DeleteOccurrence'\n        }, {\n            text: 'Delete Series',\n            id: 'DeleteSeries'\n        }]\n    }];\n    menuObj = new ej.navigations.ContextMenu({\n        target: '.e-schedule',\n        items: menuItems,\n        beforeOpen: onContextMenuBeforeOpen,\n        select: onMenuItemSelect,\n        cssClass: 'schedule-context-menu'\n    });\n    menuObj.appendTo('#ContextMenu');\n\n    function onContextMenuBeforeOpen(args) {\n        var newEventElement = document.querySelector('.e-new-event');\n        if (newEventElement) {\n            ej.base.remove(newEventElement);\n            ej.base.removeClass([document.querySelector('.e-selected-cell')], 'e-selected-cell');\n        }\n        var targetElement = args.event.target;\n        if (ej.base.closest(targetElement, '.e-contextmenu')) {\n            return;\n        }\n        selectedTarget = ej.base.closest(targetElement, '.e-appointment,.e-work-cells,' +\n            '.e-vertical-view .e-date-header-wrap .e-all-day-cells,.e-vertical-view .e-date-header-wrap .e-header-cells');\n        if (ej.base.isNullOrUndefined(selectedTarget)) {\n            args.cancel = true;\n            return;\n        }\n        if (selectedTarget.classList.contains('e-appointment')) {\n            var eventObj = scheduleObj.getEventDetails(selectedTarget);\n            if (eventObj.RecurrenceRule) {\n                menuObj.showItems(['EditRecurrenceEvent', 'DeleteRecurrenceEvent'], true);\n                menuObj.hideItems(['Add', 'AddRecurrence', 'Today', 'Save', 'Delete'], true);\n            } else {\n                menuObj.showItems(['Save', 'Delete'], true);\n                menuObj.hideItems(['Add', 'AddRecurrence', 'Today', 'EditRecurrenceEvent', 'DeleteRecurrenceEvent'], true);\n            }\n            return;\n        }\n        menuObj.hideItems(['Save', 'Delete', 'EditRecurrenceEvent', 'DeleteRecurrenceEvent'], true);\n        menuObj.showItems(['Add', 'AddRecurrence', 'Today'], true);\n    }\n\n    function onMenuItemSelect(args) {\n        var selectedMenuItem = args.item.id;\n        var eventObj;\n        if (selectedTarget.classList.contains('e-appointment')) {\n            eventObj = scheduleObj.getEventDetails(selectedTarget);\n        }\n        switch (selectedMenuItem) {\n            case 'Today':\n                scheduleObj.selectedDate = new Date();\n                break;\n            case 'Add':\n            case 'AddRecurrence':\n                var selectedCells = scheduleObj.getSelectedElements();\n                var activeCellsData = scheduleObj.getCellDetails(selectedCells.length > 0 ? selectedCells : selectedTarget);\n                if (selectedMenuItem === 'Add') {\n                    scheduleObj.openEditor(activeCellsData, 'Add');\n                } else {\n                    scheduleObj.openEditor(activeCellsData, 'Add', null, 1);\n                }\n                break;\n            case 'Save':\n            case 'EditOccurrence':\n            case 'EditSeries':\n                if (selectedMenuItem === 'EditSeries') {\n                    eventObj = new ej.data.DataManager(scheduleObj.eventsData).executeLocal(new ej.data.Query().where(scheduleObj.eventFields.id, 'equal', eventObj[scheduleObj.eventFields.recurrenceID]))[0];\n                }\n                scheduleObj.openEditor(eventObj, selectedMenuItem);\n                break;\n            case 'Delete':\n                scheduleObj.deleteEvent(eventObj);\n                break;\n            case 'DeleteOccurrence':\n            case 'DeleteSeries':\n                scheduleObj.deleteEvent(eventObj, selectedMenuItem);\n                break;\n        }\n    }\n"}