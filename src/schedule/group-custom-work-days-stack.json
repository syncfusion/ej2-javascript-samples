{"index.html":"<html><head><script src=\"//ej2.syncfusion.com/javascript/demos/schedule/group-custom-work-days/datasource.js\" type=\"text/javascript\"></script>\n<script src=\"https://cdn.syncfusion.com/ej2/dist/ej2.min.js\" type=\"text/javascript\"></script>\n    <link href=\"https://cdn.syncfusion.com/ej2/material.css\" rel=\"stylesheet\">\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <style>\n            body{\n                touch-action:none;\n            }\n        </style></head><body><div class=\"stackblitz-container {{theme}}\"><div class=\"col-lg-12 control-section\">\n    <div class=\"content-wrapper\">\n        <div id=\"Schedule\"></div>\n    </div>\n</div>\n\n\n\n\n\n<script id=\"resourceTemplate\" type=\"text/x-template\">\n    <div class='template-wrap'>\n        <div class=\"resource-image ${getDoctorImage(data)}\"></div>\n        <div class=\"resource-details\">\n            <div class=\"resource-name\">${getDoctorName(data)}</div>\n            <div class=\"resource-designation\">${getDoctorLevel(data)}</div>\n        </div>\n    </div>\n</script>\n\n<style>\n    .e-schedule .e-month-view .e-work-days.willsmith,\n    .e-schedule .e-vertical-view .e-work-hours.willsmith {\n        background-color: #faebd7;\n    }\n\n    .e-schedule .e-month-view .e-work-days.alice,\n    .e-schedule .e-vertical-view .e-work-hours.alice {\n        background-color: #deecfc;\n    }\n\n    .e-schedule .e-month-view .e-work-days.robson,\n    .e-schedule .e-vertical-view .e-work-hours.robson {\n        background-color: #deeeac;\n    }\n\n    .e-schedule .e-vertical-view .e-resource-cells {\n        height: 62px;\n    }\n\n    .e-bigger .e-schedule .e-vertical-view .e-resource-cells {\n        height: 64px;\n    }\n\n    .e-schedule .template-wrap {\n        display: flex;\n        text-align: left;\n    }\n\n    .e-schedule .template-wrap .resource-image {\n        background-repeat: no-repeat;\n        background-size: 45px;\n        height: 45px;\n        width: 45px;\n    }\n\n    .e-schedule .template-wrap .resource-details {\n        padding-left: 10px;\n    }\n\n    .e-schedule .template-wrap .resource-details .resource-name {\n        font-size: 16px;\n        font-weight: 500;\n        margin-top: 5px;\n    }\n\n    .e-schedule.e-device .template-wrap .resource-details .resource-name {\n        font-size: inherit;\n        font-weight: inherit;\n    }\n\n    .e-schedule.e-device .e-resource-tree-popup .e-fullrow {\n        height: 50px;\n    }\n\n    .e-schedule.e-device .template-wrap .resource-details .resource-designation {\n        display: none;\n    }\n\n    .e-schedule .template-wrap .resource-image.will-smith {\n        background-image: url('//ej2.syncfusion.com/javascript/demos/src/schedule/images/will-smith.png');\n    }\n\n    .e-schedule .template-wrap .resource-image.alice {\n        background-image: url('//ej2.syncfusion.com/javascript/demos/src/schedule/images/alice.png');\n    }\n\n    .e-schedule .template-wrap .resource-image.robson {\n        background-image: url('//ej2.syncfusion.com/javascript/demos/src/schedule/images/robson.png');\n    }\n</style></div></body></html>","index.js":"{{ripple}}\r\n    var data = new ej.base.extend([], window.doctorData, null, true);\r\n    var scheduleObj = new ej.schedule.Schedule({\r\n        width: '100%',\r\n        height: '650px',\r\n        selectedDate: new Date(2018, 3, 1),\r\n        currentView: 'WorkWeek',\r\n        resourceHeaderTemplate: '#resourceTemplate',\r\n        group: {\r\n            resources: ['Doctors']\r\n        },\r\n        resources: [{\r\n            field: 'DoctorId', title: 'Doctor Name', name: 'Doctors',\r\n            dataSource: [\r\n                { text: 'Will Smith', id: 1, color: '#ea7a57', workDays: [1, 2, 4, 5], startHour: '08:00', endHour: '15:00' },\r\n                { text: 'Alice', id: 2, color: 'rgb(53, 124, 210)', workDays: [1, 3, 5], startHour: '08:00', endHour: '17:00' },\r\n                { text: 'Robson', id: 3, color: '#7fa900', startHour: '08:00', endHour: '16:00' }\r\n            ],\r\n            textField: 'text', idField: 'id', colorField: 'color', workDaysField: 'workDays', startHourField: 'startHour',\r\n            endHourField: 'endHour'\r\n        }],\r\n        views: ['WorkWeek', 'Month'],\r\n        eventSettings: {\r\n            dataSource: data,\r\n            fields: {\r\n                subject: { title: 'Service Type', name: 'Subject' },\r\n                location: { title: 'Patient Name', name: 'Location' },\r\n                description: { title: 'Summary', name: 'Description' },\r\n                startTime: { title: 'From', name: 'StartTime' },\r\n                endTime: { title: 'To', name: 'EndTime' },\r\n                startTimezone: { title: 'StartTimezone', name: 'StartTimezone' },\r\n                endTimezone: { title: 'EndTimezone', name: 'EndTimezone' }\r\n            }\r\n        },\r\n        actionBegin: function (args) {\r\n            var isEventChange = (args.requestType === 'eventChange');\r\n            if ((args.requestType === 'eventCreate' && args.data.length > 0)|| isEventChange) {\r\n                var eventData = (isEventChange)? args.data: args.data[0];\r\n                var eventField = scheduleObj.eventFields;\r\n                var startDate = eventData[eventField.startTime];\r\n                var endDate = eventData[eventField.endTime];\r\n                var resourceIndex = [1, 2, 3].indexOf(eventData.DoctorId);\r\n                args.cancel = !isValidateTime(startDate, endDate, resourceIndex);\r\n                if (!args.cancel) {\r\n                    args.cancel = !scheduleObj.isSlotAvailable(startDate, endDate, resourceIndex);\r\n                }\r\n            }\r\n        },\r\n        popupOpen: function (args) {\r\n            if (args.target && args.target.classList.contains('e-work-cells')) {\r\n                args.cancel = !args.target.classList.contains('e-work-hours');\r\n            }\r\n        },\r\n        renderCell: function (args) {\r\n            if (args.element.classList.contains('e-work-hours') || args.element.classList.contains('e-work-cells')) {\r\n                ej.base.addClass([args.element], ['willsmith', 'alice', 'robson'][parseInt(args.element.getAttribute('data-group-index'), 10)]);\r\n            }\r\n        },\r\n        resizeStart: function (args) {\r\n            args.cancel = true;\r\n        },\r\n        dragStart: function (args) {\r\n            args.cancel = true;\r\n        }\r\n    });\r\n    window.getDoctorName = function (value) {\r\n        return (value.resourceData) ? value.resourceData[value.resource.textField] : value.resourceName;\r\n    };\r\n    window.getDoctorImage = function (value) {\r\n        var resourceName = window.getDoctorName(value);\r\n        return resourceName.replace(' ', '-').toLowerCase();\r\n    };\r\n    window.getDoctorLevel = function (value) {\r\n        var resourceName = window.getDoctorName(value);\r\n        return (resourceName === 'Will Smith') ? 'Cardiologist' : (resourceName === 'Alice') ? 'Neurologist' : 'Orthopedic Surgeon';\r\n    };\r\n    scheduleObj.appendTo('#Schedule');\r\n    function isValidateTime(startDate, endDate, resIndex) {\r\n        var resource = scheduleObj.getResourcesByIndex(resIndex);\r\n        var startHour = parseInt(resource.resourceData.startHour.toString().slice(0, 2), 10);\r\n        var endHour = parseInt(resource.resourceData.endHour.toString().slice(0, 2), 10);\r\n        return (startHour <= startDate.getHours() && endHour >= endDate.getHours());\r\n    }\r\n"}