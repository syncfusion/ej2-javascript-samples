{"index.html":"<html><head><script src=\"//ej2.syncfusion.com/javascript/demos/schedule/group-custom-work-days/datasource.js\" type=\"text/javascript\"></script>\n<script src=\"https://cdn.syncfusion.com/ej2/dist/ej2.min.js\" type=\"text/javascript\"></script>\n    <link href=\"https://cdn.syncfusion.com/ej2/material.css\" rel=\"stylesheet\">\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <style>\n            body{\n                touch-action:none;\n            }\n        </style></head><body><div class=\"stackblitz-container {{theme}}\"><div class=\"col-lg-12 control-section\">\n    <div class=\"content-wrapper\">\n        <div id=\"Schedule\"></div>\n    </div>\n</div>\n\n\n\n\n\n<script id=\"resourceTemplate\" type=\"text/x-template\">\n    <div class='template-wrap'>\n        <div class=\"resource-image ${getDoctorImage(data)}\"></div>\n        <div class=\"resource-details\">\n            <div class=\"resource-name\">${getDoctorName(data)}</div>\n            <div class=\"resource-designation\">${getDoctorLevel(data)}</div>\n        </div>\n    </div>\n</script>\n\n<style>\n    .e-schedule .e-month-view .e-work-days.willsmith,\n    .e-schedule .e-vertical-view .e-work-hours.willsmith {\n        background-color: #faebd7;\n    }\n\n    .e-schedule .e-month-view .e-work-days.alice,\n    .e-schedule .e-vertical-view .e-work-hours.alice {\n        background-color: #deecfc;\n    }\n\n    .e-schedule .e-month-view .e-work-days.robson,\n    .e-schedule .e-vertical-view .e-work-hours.robson {\n        background-color: #deeeac;\n    }\n\n    .e-schedule .e-vertical-view .e-resource-cells {\n        height: 62px;\n    }\n\n    .e-bigger .e-schedule .e-vertical-view .e-resource-cells {\n        height: 64px;\n    }\n\n    .e-schedule .template-wrap {\n        display: flex;\n        text-align: left;\n    }\n\n    .e-schedule .template-wrap .resource-image {\n        background-repeat: no-repeat;\n        background-size: 45px;\n        height: 45px;\n        width: 45px;\n    }\n\n    .e-schedule .template-wrap .resource-details {\n        padding-left: 10px;\n    }\n\n    .e-schedule .template-wrap .resource-details .resource-name {\n        font-size: 16px;\n        font-weight: 500;\n        margin-top: 5px;\n    }\n\n    .e-schedule.e-device .template-wrap .resource-details .resource-name {\n        font-size: inherit;\n        font-weight: inherit;\n    }\n\n    .e-schedule.e-device .e-resource-tree-popup .e-fullrow {\n        height: 50px;\n    }\n\n    .e-schedule.e-device .template-wrap .resource-details .resource-designation {\n        display: none;\n    }\n\n    .e-schedule .template-wrap .resource-image.will-smith {\n        background-image: url('//ej2.syncfusion.com/javascript/demos/src/schedule/images/will-smith.png');\n    }\n\n    .e-schedule .template-wrap .resource-image.alice {\n        background-image: url('//ej2.syncfusion.com/javascript/demos/src/schedule/images/alice.png');\n    }\n\n    .e-schedule .template-wrap .resource-image.robson {\n        background-image: url('//ej2.syncfusion.com/javascript/demos/src/schedule/images/robson.png');\n    }\n</style></div></body></html>","index.js":"{{ripple}}\n    var data = new ej.base.extend([], window.doctorData, null, true);\n    var scheduleObj = new ej.schedule.Schedule({\n        width: '100%',\n        height: '650px',\n        selectedDate: new Date(2018, 3, 1),\n        currentView: 'WorkWeek',\n        resourceHeaderTemplate: '#resourceTemplate',\n        group: {\n            resources: ['Doctors']\n        },\n        resources: [{\n            field: 'DoctorId', title: 'Doctor Name', name: 'Doctors',\n            dataSource: [\n                { text: 'Will Smith', id: 1, color: '#ea7a57', workDays: [1, 2, 4, 5], startHour: '08:00', endHour: '15:00' },\n                { text: 'Alice', id: 2, color: 'rgb(53, 124, 210)', workDays: [1, 3, 5], startHour: '08:00', endHour: '17:00' },\n                { text: 'Robson', id: 3, color: '#7fa900', startHour: '08:00', endHour: '16:00' }\n            ],\n            textField: 'text', idField: 'id', colorField: 'color', workDaysField: 'workDays', startHourField: 'startHour',\n            endHourField: 'endHour'\n        }],\n        views: ['WorkWeek', 'Month'],\n        eventSettings: {\n            dataSource: data,\n            fields: {\n                subject: { title: 'Service Type', name: 'Subject' },\n                location: { title: 'Patient Name', name: 'Location' },\n                description: { title: 'Summary', name: 'Description' },\n                startTime: { title: 'From', name: 'StartTime' },\n                endTime: { title: 'To', name: 'EndTime' },\n                startTimezone: { title: 'StartTimezone', name: 'StartTimezone' },\n                endTimezone: { title: 'EndTimezone', name: 'EndTimezone' }\n            }\n        },\n        actionBegin: function (args) {\n            var isEventChange = (args.requestType === 'eventChange');\n            if ((args.requestType === 'eventCreate' && args.data.length > 0)|| isEventChange) {\n                var eventData = (isEventChange)? args.data: args.data[0];\n                var eventField = scheduleObj.eventFields;\n                var startDate = eventData[eventField.startTime];\n                var endDate = eventData[eventField.endTime];\n                var resourceIndex = [1, 2, 3].indexOf(eventData.DoctorId);\n                args.cancel = !isValidateTime(startDate, endDate, resourceIndex);\n                if (!args.cancel) {\n                    args.cancel = !scheduleObj.isSlotAvailable(startDate, endDate, resourceIndex);\n                }\n            }\n        },\n        popupOpen: function (args) {\n            if (args.target && args.target.classList.contains('e-work-cells')) {\n                args.cancel = !args.target.classList.contains('e-work-hours');\n            }\n        },\n        renderCell: function (args) {\n            if (args.element.classList.contains('e-work-hours') || args.element.classList.contains('e-work-cells')) {\n                ej.base.addClass([args.element], ['willsmith', 'alice', 'robson'][parseInt(args.element.getAttribute('data-group-index'), 10)]);\n            }\n        },\n        resizeStart: function (args) {\n            args.cancel = true;\n        },\n        dragStart: function (args) {\n            args.cancel = true;\n        }\n    });\n    window.getDoctorName = function (value) {\n        return (value.resourceData) ? value.resourceData[value.resource.textField] : value.resourceName;\n    };\n    window.getDoctorImage = function (value) {\n        var resourceName = window.getDoctorName(value);\n        return resourceName.replace(' ', '-').toLowerCase();\n    };\n    window.getDoctorLevel = function (value) {\n        var resourceName = window.getDoctorName(value);\n        return (resourceName === 'Will Smith') ? 'Cardiologist' : (resourceName === 'Alice') ? 'Neurologist' : 'Orthopedic Surgeon';\n    };\n    scheduleObj.appendTo('#Schedule');\n    function isValidateTime(startDate, endDate, resIndex) {\n        var resource = scheduleObj.getResourcesByIndex(resIndex);\n        var startHour = parseInt(resource.resourceData.startHour.toString().slice(0, 2), 10);\n        var endHour = parseInt(resource.resourceData.endHour.toString().slice(0, 2), 10);\n        return (startHour <= startDate.getHours() && endHour >= endDate.getHours());\n    }\n"}