{"index.html":"<html><head><script src=\"//ej2.syncfusion.com/javascript/demos/range-navigator/period-selector/datasource.js\" type=\"text/javascript\"></script>\n<script src=\"https://cdn.syncfusion.com/ej2/dist/ej2.min.js\" type=\"text/javascript\"></script>\n    <link href=\"https://cdn.syncfusion.com/ej2/material.css\" rel=\"stylesheet\">\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <style>\n            body{\n                touch-action:none;\n            }\n        </style></head><body><div class=\"stackblitz-container {{theme}}\"><div class=\"control-section\">\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <div class=\"row\" style=\"width:80%; transform: translateX(13%)\">\n                <div class=\"col-sm-8\">\n                    <div id=\"text\" style=\"\n                    display: flex; font-size: 36px; font-weight: 500;\n                    align-items: center;\n                    justify-content: space-between;\" align=\"left;\">\n                        Bitcoin (USD) Price\n                    </div>\n                </div>\n                <div class=\"col-sm-4\" align=\"right\" style=\"margin-top: 1%\">\n                    <div>\n                        <label for=\"switch\" style=\"font-size: 16px; margin-right: 2%\">Closing Price </label>\n                        <input id=\"switch\" type=\"checkbox\">\n                        <label for=\"switch1\" style=\"font-size: 16px; margin-left: 2%\">OHLC</label>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n        <div class=\"col-sm-12\">\n            <div class=\"row\" align=\"center\">\n                <div id=\"container\"></div>\n                <div id=\"chart\" style=\"width: 90%\"></div>\n                <div id=\"range\"></div>\n        </div>\n    </div>\n</div>\n\n\n<style>\n    #switch {\n        display: none;\n    }\n    #control-container {\n        padding: 0px !important;\n    }\n\n    .e-switch-wrapper {\n        margin-top: 5%;\n        width: 15%\n    }\n    #chart_tooltip {\n            opacity: 0;\n    }\n    #chart_HorizontalLine, #chart_VerticalLine {\n            stroke-dasharray: 2\n    }\n    @media only screen and (max-width: 300px) {\n    #text {\n        font-size: 10px\n    }\n}\n</style></div></div></body></html>","index.js":"{{ripple}}/**\r\n * Sample for stock chart\r\n */\r\nvar _this = this;\r\nvar selectedTheme = location.hash.split('/')[1];\r\nselectedTheme = selectedTheme ? selectedTheme : 'Material';\r\nvar theme = (selectedTheme.charAt(0).toUpperCase() + selectedTheme.slice(1)).replace(/-dark/i, 'Dark');\r\nvar removeSecondaryElement;\r\nvar datasrc;\r\nvar data1 = [];\r\nvar value;\r\nthis.renderPeriodSelectorChart = function (data1) {\r\n    var chart = new ej.charts.Chart({\r\n        series: [{\r\n            dataSource: data1, width: 2, type: 'Candle', animation: { enable: true }, xName: 'date', low: 'Low',\r\n            high: 'High', close: 'Close', volume: 'Volume', open: 'Open', name: 'Bitcoin', bearFillColor: '#2ecd71',\r\n            bullFillColor: '#e74c3d', yName: 'Close'\r\n        }], width: ej.base.Browser.isDevice ? '100%' : '80%', crosshair: { enable: true },\r\n        annotations: [{ content: '<div id=\"annotation\"></div>', coordinateUnits: 'Pixel', region: 'Chart', x: '15%', y: '25%' }],\r\n        zoomSettings: { enableMouseWheelZooming: true, mode: 'X', toolbarItems: [] }, tooltip: { enable: true, shared: true },\r\n        chartArea: { border: { width: 0 } }, theme: theme, legendSettings: { visible: false }, height: '250',\r\n        axisLabelRender: function (args) {\r\n            if (args.axis.opposedPosition) {\r\n                var value_1 = Math.round(Number(args.text)) / 1000;\r\n                args.text = '$' + String(value_1) + 'k';\r\n            }\r\n        }, primaryYAxis: { labelFormat: 'n0', opposedPosition: true, lineStyle: { width: 0 } },\r\n        tooltipRender: function (args) {\r\n            if (args.text.length > 0) {\r\n                var text = args.text.split('<br/>');\r\n                var html = '<table><thead>' + text[0] + '</thead>';\r\n                var value_2;\r\n                for (var i = 1; i < text.length; i++) {\r\n                    value_2 = text[i].split(':');\r\n                    html += '<tr><td style=\"opacity:0.5\">' + value_2[0] + ':</td><td style=\"padding-left: 5px;\">$' +\r\n                        (+value_2[1].split(' <b>')[1].split('</b>')[0]).toFixed(2) + '</td></tr>';\r\n                }\r\n                html += '</table>';\r\n                chart.setAnnotationValue(0, '<div id=\"annotation\" style=\"line-height: 18px;font-size:13px;background: #fff; opacity:0.9; color: #464e56; ' +\r\n                    ' box-shadow:0 0 8px 0 rgba(70,78,86,.25); padding: 7px 10px; border-radius: 3px\">' + html + '</div>');\r\n            }\r\n            args.text = '';\r\n        }, primaryXAxis: { valueType: 'DateTime', majorGridLines: { width: 0 }, edgeLabelPlacement: 'Shift' },\r\n        chartMouseMove: function () {\r\n            if (!ej.charts.withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\r\n                removeSecondaryElement();\r\n            }\r\n        },\r\n        load: function (args) {\r\n            args.chart.tooltip.format = args.chart.series[0].type === 'Candle' ?\r\n                '${point.x}<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>' +\r\n                'Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>' :\r\n                '${point.x}<br/>Close : <b>${point.close}</b>';\r\n                document.getElementById('switch').style.display = \"block\";\r\n        }, axisRangeCalculated: function (args) { chart.setAnnotationValue(0, '<div></div>'); },\r\n    });\r\n    chart.appendTo('#chart');\r\n    removeSecondaryElement = function () {\r\n        setTimeout(function () {\r\n            if (ej.charts.getElement('annotation')) {\r\n                ej.base.remove(ej.charts.getElement('annotation'));\r\n            }\r\n        }, 2000);\r\n    };\r\n    var rangeTop = new ej.charts.RangeNavigator({\r\n        loaded: function (args) {\r\n            if (!ej.base.Browser.isDevice) {\r\n                document.getElementById('container_Secondary_Element').style.transform = 'translate(13%)';\r\n            }\r\n        }, disableRangeSelector: true, width: ej.base.Browser.isDevice ? '100%' : '80%',\r\n        load: function (args) {\r\n            args.rangeNavigator.periodSelectorSettings.height = document.body.className.indexOf('e-bigger') > -1 ? 56 : 42;\r\n        }, labelPosition: 'Outside', valueType: 'DateTime', dataSource: data1, xName: 'date', yName: 'Close', theme: theme,\r\n        periodSelectorSettings: {\r\n            periods: [{ text: '1M', interval: 1, intervalType: 'Months' }, { text: '3M', interval: 3, intervalType: 'Months' },\r\n            { text: '6M', interval: 6, intervalType: 'Months' }, { text: '1Y', interval: 1, intervalType: 'Years' },\r\n            { text: '2Y', interval: 2, intervalType: 'Years', selected: true }, { text: 'ALL' }], position: 'Top',\r\n        }\r\n    });\r\n    rangeTop.appendTo('#container');\r\n    var switchObj = new ej.buttons.Switch({\r\n        change: function (args) {\r\n            chart.series[0].type = !args.checked ? 'Line' : 'Candle';\r\n            chart.annotations[0].content = '';\r\n            chart.refresh();\r\n        }, name: 'Closing Value', cssClass: 'custom-iOS', value: 'Closing value', checked: true,\r\n    });\r\n    switchObj.appendTo('#switch');\r\n    var rangeBottom = new ej.charts.RangeNavigator({\r\n        labelPosition: 'Outside', valueType: 'DateTime', series: [{ dataSource: data1, xName: 'date', yName: 'Close' }],\r\n        changed: function (args) {\r\n            rangeTop.periodSelectorModule.datePicker.startDate = args.start;\r\n            rangeTop.periodSelectorModule.datePicker.endDate = args.end;\r\n            rangeTop.dataBind();\r\n            chart.primaryXAxis.zoomFactor = 1;\r\n            chart.primaryXAxis.zoomPosition = 0;\r\n            var filterData = data1.filter(function (data) {\r\n                return (data.date.getTime() >= args.start.getTime() &&\r\n                    data.date.getTime() <= args.end.getTime());\r\n            });\r\n            chart.series[0].animation.enable = false;\r\n            chart.series[0].dataSource = filterData;\r\n            chart.setAnnotationValue(0, '<div id=\"annotation\"></div>');\r\n            chart.refresh();\r\n        }, width: ej.base.Browser.isDevice ? '100%' : '80%', value: [new Date('2016-05-15'), new Date('2018-05-15')], theme: theme,\r\n    });\r\n    rangeBottom.appendTo('#range');\r\n    rangeTop.changed = function (args) {\r\n        rangeBottom.rangeSlider.setSlider(args.start.getTime(), args.end.getTime(), false, false);\r\n        var filterData = data1.filter(function (data) {\r\n            return (data.date.getTime() >= args.start.getTime() &&\r\n                data.date.getTime() <= args.end.getTime());\r\n        });\r\n        chart.series[0].animation.enable = false;\r\n        chart.series[0].dataSource = filterData;\r\n        chart.refresh();\r\n        chart.setAnnotationValue(0, '<div id=\"annotation\"></div>');\r\n    };\r\n};\r\n\r\n    var datasrc;\r\n    var data1 = [];\r\n    var value;\r\n    var j = 2100;\r\n    var ajax = new ej.base.Ajax('//ej2.syncfusion.com/javascript/demos/src/range-navigator/data-source/period-data.json', 'GET', true);\r\n    ajax.send().then();\r\n    ajax.onSuccess = function (data) {\r\n        datasrc = JSON.parse(data);\r\n        for (var i = 0; i < datasrc.length; i++) {\r\n            value = datasrc[i];\r\n            data1.push({\r\n                High: value.High, Low: value.Low, Close: value.Close, Open: value.Open, date: new Date(2010, 6, j)\r\n            });\r\n            j++;\r\n        }\r\n        _this.renderPeriodSelectorChart(data1);\r\n    };\r\n"}