{"index.html":"<html><head><script src=\"https://cdn.syncfusion.com/ej2/dist/ej2.min.js\" type=\"text/javascript\"></script>\n    <link href=\"https://cdn.syncfusion.com/ej2/material.css\" rel=\"stylesheet\">\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <style>\n            body{\n                touch-action:none;\n            }\n        </style></head><body><div class=\"stackblitz-container {{theme}}\"><div class=\"col-lg-12 control-section\">\n    <div class=\"e-sample-resize-container\" id=\"dialog_target\">\n        <div id=\"alertDialog\"></div>\n        <div id=\"tab_wizard\"> </div>\n        <div id=\"booking\" style=\"display:none;\">\n            <div class=\"wizard-title\">Plan your journey</div>\n            <div class=\"responsive-align\">\n                <div class=\"row\">\n                    <div class=\"col-xs-6 col-sm-6 col-lg-6 col-md-6 search-item\">\n                        <input id=\"startPoint\" class=\"e-input\" type=\"text\">\n                    </div>\n                    <div class=\"col-xs-6 col-sm-6 col-lg-6 col-md-6 search-item\">\n                        <input id=\"endPoint\" class=\"e-input\" type=\"text\">\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-xs-6 col-sm-6 col-lg-6 col-md-6 search-item\">\n                        <input id=\"journey_date\" class=\"e-input\" type=\"text\">\n                    </div>\n                    <div class=\"col-xs-6 col-sm-6 col-lg-6 col-md-6 search-item\">\n                        <input id=\"ticket_type\" class=\"e-input\" type=\"text\">\n                    </div>\n                </div>\n            </div>\n            <div class=\"btn-container\">\n                <button id=\"searchNext\" class=\"e-btn\">Search Train</button>\n            </div>\n\n            <span id=\"err1\"></span>\n        </div>\n    </div>\n    <div id=\"selectTrain\" style=\"display:none;\">\n        <div class=\"wizard-title\">Select the train from the list </div>\n        <div id=\"availableTrain\"></div>\n        <br>\n        <div class=\"btn-container\">\n            <button id=\"goToSearch\" class=\"e-btn\">Back</button>\n            <button id=\"bookTickets\" class=\"e-btn\">Continue</button>\n        </div>\n        <span id=\"err2\"></span>\n    </div>\n    <div id=\"details\" style=\"display:none;\">\n        <div class=\"details-page wizard-title\">Enter the passenger details</div>\n        <div id=\"PassengersList\">\n            <table id=\"passenger-table\">\n                <colgroup>\n                    <col>\n                    <col>\n                    <col>\n                    <col>\n                    <col>\n                    <col>\n                </colgroup>\n                <thead>\n                    <tr>\n                        <th class=\"name-header\">Name</th>\n                        <th class=\"age-header\">Age</th>\n                        <th class=\"gender-header\">Gender</th>\n                        <th class=\"type-header\">Berth Preference</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td>\n                            <input id=\"pass_name1\" class=\"e-input\" type=\"text\" placeholder=\"Passenger Name\">\n                        </td>\n                        <td>\n                            <input id=\"pass_age1\" class=\"e-input\">\n                        </td>\n                        <td>\n                            <input id=\"pass_gender1\" type=\"text\">\n                        </td>\n                        <td>\n                            <input id=\"pass_berth1\" type=\"text\">\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <input id=\"pass_name2\" class=\"e-input\" type=\"text\" placeholder=\"Passenger Name\">\n                        </td>\n                        <td>\n                            <input id=\"pass_age2\" class=\"e-input\">\n                        </td>\n                        <td>\n                            <input id=\"pass_gender2\" type=\"text\">\n                        </td>\n                        <td>\n                            <input id=\"pass_berth2\" type=\"text\">\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <input id=\"pass_name3\" class=\"e-input\" type=\"text\" placeholder=\"Passenger Name\">\n                        </td>\n                        <td>\n                            <input id=\"pass_age3\" class=\"e-input\">\n                        </td>\n                        <td>\n                            <input id=\"pass_gender3\" type=\"text\">\n                        </td>\n                        <td>\n                            <input id=\"pass_berth3\" type=\"text\">\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n        <br>\n        <div class=\"btn-container\">\n            <button id=\"goBackToBook\" class=\"e-btn\">Back</button>\n            <button id=\"confirmTickets\" class=\"e-btn\">Continue</button>\n        </div>\n        <span id=\"err3\"></span>\n    </div>\n    <div id=\"confirm\" style=\"display:none;\">\n        <div class=\"tab-title1 wizard-title\">Confirm the details and proceed</div>\n        <div id=\"ticketDetailGrid\"></div>\n        <div id=\"amount\"></div>\n        <br>\n        <div class=\"btn-container\">\n            <button id=\"goBackDetails\" class=\"e-btn\">Back</button>\n            <button id=\"makePayment\" class=\"e-btn\">Pay</button>\n        </div>\n    </div>\n</div>\n\n\n<style>\n    .e-content .e-item {\n        font-size: 12px;\n        margin: 10px;\n    }\n\n    #amount {\n        text-align: right;\n        font-size: 15px;\n        padding: 15px 0px;\n    }\n\n    #passenger-table th {\n        text-align: center;\n        font-size: 14px;\n        font-weight: 400;\n        border: 1px solid gainsboro;\n    }\n\n    #passenger-table td,\n    th {\n        padding: 10px;\n    }\n\n    #passenger-table td {\n        border: 1px solid gainsboro;\n    }\n\n    .name-header {\n        width: 200px;\n    }\n\n    .age-header {\n        width: 80px;\n    }\n\n    .gender-header {\n        width: 120px;\n    }\n\n    .type-header {\n        width: 150px;\n    }\n\n    .btn-container {\n        text-align: center;\n    }\n\n    .search-item {\n        padding-right: 50px;\n        padding-bottom: 20px;\n    }\n\n    .item-title {\n        font-weight: 500;\n        padding-top: 10px;\n    }\n\n    @media (max-width: 450px) {\n\n\n        .responsive-align {\n            width: 75%;\n            margin: 0 auto;\n        }\n        .search-item {\n            padding: 0 0 20px 0;\n            width: 100%;\n        }\n    }\n\n    #err1,\n    #err2,\n    #err3 {\n        font-weight: bold;\n        color: red;\n        display: block;\n        margin-top: 15px;\n    }\n\n    .wizard-title {\n        font-size: 15px;\n    }\n\n    #PassengersList {\n        overflow: auto;\n    }\n\n    #passenger-table {\n        min-width: 500px;\n        width: 100%;\n    }\n</style></div></body></html>","index.js":"{{ripple}}ï»¿/**\r\n *  Tab Wizard sample\r\n */\r\n// tslint:disable:max-line-length\r\nvar tabObj;\r\nvar availTrainGrid;\r\nvar ticketDetailGrid;\r\nvar endPoint;\r\nvar journeyDate;\r\nvar ticketType;\r\nvar startPoint;\r\nvar alertDlg;\r\nvar today = new Date();\r\nvar locations;\r\nvar selectedTrain;\r\n\r\nvar quota = [\r\n    { id: '1', text: 'Business Class' },\r\n    { id: '2', text: 'Economy Class' },\r\n    { id: '4', text: 'Common Class' }\r\n];\r\nvar gender = [\r\n    { id: '1', text: 'Male' },\r\n    { id: '2', text: 'Female' }\r\n];\r\nvar berths = [\r\n    { id: '1', text: 'Upper' },\r\n    { id: '2', text: 'Lower' },\r\n    { id: '3', text: 'Middle' },\r\n    { id: '4', text: 'Window' },\r\n    { id: '5', text: 'Aisle' }\r\n];\r\nvar cities = [\r\n    { name: 'Chicago', fare: 300 },\r\n    { name: 'San Francisco', fare: 125 },\r\n    { name: 'Los Angeles', fare: 175 },\r\n    { name: 'Seattle', fare: 250 },\r\n    { name: 'Florida', fare: 150 }\r\n];\r\n\r\nfunction renderComponents() {\r\n    /* Initialize Tab with disabled headers for the wizard */\r\n    tabObj = new ej.navigations.Tab({\r\n        heightAdjustMode: 'None', height: 390, showCloseButton: false,\r\n        selecting: tabSelecting,\r\n        items: [\r\n            { header: { 'text': 'New Booking' }, content: '#booking' },\r\n            { header: { 'text': 'Train List' }, content: '#selectTrain', disabled: true },\r\n            { header: { 'text': 'Add Passenger' }, content: '#details', disabled: true },\r\n            { header: { 'text': 'Make Payment' }, content: '#confirm', disabled: true }\r\n        ]\r\n    });\r\n    tabObj.appendTo('#tab_wizard');\r\n    /* Initialize the components for creating wizard */\r\n    startPoint = new ej.dropdowns.DropDownList({\r\n        width: '100%', dataSource: cities, floatLabelType: 'Auto', placeholder: 'From',\r\n        fields: { text: 'name', value: 'name' }\r\n    });\r\n    startPoint.appendTo('#startPoint');\r\n    endPoint = new ej.dropdowns.DropDownList({\r\n        width: '100%', dataSource: cities, floatLabelType: 'Auto', placeholder: 'To',\r\n        fields: { text: 'name', value: 'name' }\r\n    });\r\n    endPoint.appendTo('#endPoint');\r\n    journeyDate = new ej.calendars.DatePicker({\r\n        width: '100%', floatLabelType: 'Auto', placeholder: 'Journey Date', min: new Date(today.getTime()),\r\n        max: new Date(today.getTime() + 60 * 24 * 60 * 60 * 1000),\r\n        value: new Date(),\r\n    });\r\n    journeyDate.appendTo('#journey_date');\r\n    ticketType = new ej.dropdowns.DropDownList({\r\n        dataSource: quota, placeholder: 'Ticket Type', floatLabelType: 'Auto', fields: { text: 'text', value: 'text' }\r\n    });\r\n    ticketType.appendTo('#ticket_type');\r\n    alertDlg = new ej.popups.Dialog({\r\n        header: 'Success', width: 250, isModal: true, visible: false, showCloseIcon: true,\r\n        content: 'Your payment successfully processed', target: document.getElementById('dialog_target'), created: dlgCreated\r\n    });\r\n    alertDlg.appendTo('#alertDialog');\r\n    alertDlg.hide();\r\n    availTrainGrid = new ej.grids.Grid({\r\n        width: \"100%\",\r\n        columns: [\r\n            { field: 'TrainNo', headerText: 'Train No', width: 120, type: 'number' },\r\n            { field: 'Name', width: 140, headerText: 'Name' },\r\n            { field: 'Departure', headerText: 'Departure', width: 120 },\r\n            { field: 'Arrival', headerText: 'Arrival', width: 140 },\r\n            { field: 'Availability', headerText: 'Availability', width: 140, type: 'number' }\r\n        ],\r\n        rowSelected: trainSelected\r\n    });\r\n    availTrainGrid.appendTo('#availableTrain');\r\n    var age1 = new ej.inputs.NumericTextBox({ min:1, max: 100, value: 18, format: 'n0', showSpinButton: false });\r\n    age1.appendTo('#pass_age1');\r\n    var age2 = new ej.inputs.NumericTextBox({ min:1, max: 100, value: 18, format: 'n0', showSpinButton: false });\r\n    age2.appendTo('#pass_age2');\r\n    var age3 = new ej.inputs.NumericTextBox({ min:1, max: 100, value: 18, format: 'n0', showSpinButton: false });\r\n    age3.appendTo('#pass_age3');\r\n    var gender1 = new ej.dropdowns.DropDownList({\r\n        dataSource: gender, text: 'Male', fields: { text: 'text', value: 'text' }\r\n    });\r\n    gender1.appendTo('#pass_gender1');\r\n    var gender2 = new ej.dropdowns.DropDownList({\r\n        dataSource: gender, text: 'Male', fields: { text: 'text', value: 'text' }\r\n    });\r\n    gender2.appendTo('#pass_gender2');\r\n    var gender3 = new ej.dropdowns.DropDownList({\r\n        dataSource: gender, text: 'Male', fields: { text: 'text', value: 'text' }\r\n    });\r\n    gender3.appendTo('#pass_gender3');\r\n    var berth1 = new ej.dropdowns.DropDownList({\r\n        dataSource: berths, placeholder: 'Optional', fields: { text: 'text', value: 'text' }\r\n    });\r\n    berth1.appendTo('#pass_berth1');\r\n    var berth2 = new ej.dropdowns.DropDownList({\r\n        dataSource: berths, placeholder: 'Optional', fields: { text: 'text', value: 'text' }\r\n    });\r\n    berth2.appendTo('#pass_berth2');\r\n    var berth3 = new ej.dropdowns.DropDownList({\r\n        dataSource: berths, placeholder: 'Optional', fields: { text: 'text', value: 'text' }\r\n    });\r\n    berth3.appendTo('#pass_berth3');\r\n    ticketDetailGrid = new ej.grids.Grid({\r\n        width: \"100%\",\r\n        columns: [\r\n            { field: 'TrainNo', headerText: 'Train No', width: 120, type: 'number' },\r\n            { field: 'PassName', width: 140, headerText: 'Name' },\r\n            { field: 'Gender', headerText: 'Gender', width: 120 },\r\n            { field: 'Berth', headerText: 'Berth', width: 140 }\r\n        ],\r\n    });\r\n    ticketDetailGrid.appendTo('#ticketDetailGrid');\r\n    document.getElementById('searchNext').onclick = function (e) { tabNavigations(e); };\r\n    document.getElementById('bookTickets').onclick = function (e) { tabNavigations(e); };\r\n    document.getElementById('confirmTickets').onclick = function (e) { tabNavigations(e); };\r\n    document.getElementById('makePayment').onclick = function (e) { tabNavigations(e); };\r\n    document.getElementById('goToSearch').onclick = function (e) { tabNavigations(e); };\r\n    document.getElementById('goBackToBook').onclick = function (e) { tabNavigations(e); };\r\n    document.getElementById('goBackDetails').onclick = function (e) { tabNavigations(e); };\r\n}\r\nfunction tabSelecting(e) {\r\n    if (e.isSwiped) {\r\n        e.cancel = true;\r\n    }\r\n}\r\nfunction dlgCreated() {\r\n    alertDlg.buttons = [{\r\n        buttonModel: { content: 'Ok', isPrimary: true },\r\n        click: function () {\r\n            alertDlg.hide();\r\n            tabObj.enableTab(0, true);\r\n            tabObj.enableTab(1, false);\r\n            tabObj.enableTab(2, false);\r\n            tabObj.enableTab(3, false);\r\n            tabObj.select(0);\r\n        }\r\n    }];\r\n}\r\nfunction tabNavigations(args) {\r\n    switch (args.target.id) {\r\n        case 'searchNext':\r\n            /* Validate the Source, Destination, Date and Class chosen and proceed only if all the fields are selected */\r\n            if (!ej.base.isNullOrUndefined(startPoint.value) && !ej.base.isNullOrUndefined(endPoint.value) &&\r\n                !ej.base.isNullOrUndefined(ticketType.value) && !ej.base.isNullOrUndefined(journeyDate.value)) {\r\n                if (!ej.base.isNullOrUndefined(startPoint.value) && startPoint.value === endPoint.value) {\r\n                    document.getElementById('err1').innerText = '* Arrival point can\\'t be same as Departure';\r\n                }\r\n                else {\r\n                    tabObj.enableTab(1, true);\r\n                    tabObj.enableTab(0, false);\r\n                    filterTrains(args);\r\n                    document.getElementById('err1').innerText = '';\r\n                    document.getElementById('err2').innerText = '';\r\n                }\r\n            }\r\n            else {\r\n                document.getElementById('err1').innerText = '* Please fill all the details before proceeding';\r\n            }\r\n            break;\r\n        case 'bookTickets':\r\n            /* Based on the selected station generate Grid content to display trains available */\r\n            if (availTrainGrid.getSelectedRecords() === undefined || availTrainGrid.getSelectedRecords().length === 0) {\r\n                document.getElementById('err2').innerText = '* Select your convenient train';\r\n            }\r\n            else {\r\n                tabObj.enableTab(2, true);\r\n                tabObj.enableTab(1, false);\r\n                document.getElementById('err2').innerText = '';\r\n            }\r\n            break;\r\n        case 'confirmTickets':\r\n            /* Get the Passenger details and validate the fields must not be left empty */\r\n            var name = document.getElementById('pass_name1');\r\n            var age = document.getElementById('pass_age1');\r\n            var gender = document.getElementById('pass_gender1');\r\n            if (name.value === '' || age.value === '' || gender.value === '') {\r\n                document.getElementById('err3').innerText = '* Please enter passenger details';\r\n            }\r\n            else {\r\n                tabObj.enableTab(3, true);\r\n                tabObj.enableTab(2, false);\r\n                document.getElementById('err3').innerText = '';\r\n                finalizeDetails(args);\r\n            }\r\n            break;\r\n        case 'makePayment':\r\n            alertDlg.show();\r\n            break;\r\n        case 'goToSearch':\r\n            /* Go back to change class, date or boarding places */\r\n            selectedTrain = [];\r\n            tabObj.enableTab(0, true);\r\n            tabObj.select(0);\r\n            tabObj.enableTab(1, false);\r\n            break;\r\n        case 'goBackToBook':\r\n            /* Change the preferred train chosen already */\r\n            tabObj.enableTab(1, true);\r\n            tabObj.select(1);\r\n            tabObj.enableTab(2, false);\r\n            break;\r\n        case 'goBackDetails':\r\n            /* Update passenger detail before confirming the payment */\r\n            tabObj.enableTab(2, true);\r\n            tabObj.select(2);\r\n            tabObj.enableTab(3, false);\r\n            break;\r\n    }\r\n}\r\nfunction filterTrains(args) {\r\n    /* Generating trains based on source and destination chosen */\r\n    var result = [];\r\n    var fromCity = startPoint.text;\r\n    var toCity = endPoint.text;\r\n    var count = Math.floor((Math.random() * 3) + 2);\r\n    for (var i = 0; i < count; i++) {\r\n        var details = [];\r\n        details.TrainNo = Math.floor((Math.random() * 20) + 19000);\r\n        details.Name = 'Train ' + i;\r\n        details.Departure = fromCity;\r\n        details.Arrival = toCity;\r\n        details.Availability = Math.floor((Math.random() * 20) + 20);\r\n        result.push(details);\r\n    }\r\n    availTrainGrid.dataSource = result;\r\n}\r\nfunction finalizeDetails(args) {\r\n    /* Get the passenger details and update table with name and other details for confirmation */\r\n    var reserved = [];\r\n    var passCount = 0;\r\n    for (var i = 1; i <= 3; i++) {\r\n        var name = document.getElementById('pass_name' + i);\r\n        var berthSelected = document.getElementById('pass_berth' + i);\r\n        var gender = document.getElementById('pass_gender' + i);\r\n        if (name.value !== '') {\r\n            var details = [];\r\n            var berth = berthSelected.value;\r\n            details.TrainNo = selectedTrain.TrainNo.toString();\r\n            details.PassName = name.value;\r\n            details.Gender = gender.value;\r\n            details.Berth = (berth === '') ? 'Any' : berth;\r\n            reserved.push(details);\r\n            passCount++;\r\n        }\r\n        var calcFare = 0;\r\n        for (var j = 0; j < cities; j++) {\r\n            if (startPoint.value === cities[j].name) {\r\n                calcFare = calcFare + cities[j].fare;\r\n            }\r\n            if (endPoint.value === cities[j].name) {\r\n                calcFare = calcFare + cities[j].fare;\r\n            }\r\n        }\r\n        var displayAmt = document.getElementById('amount');\r\n        if (ticketType.value === 'Economy Class') {\r\n            displayAmt.innerText = 'Total payable amount: $' + passCount * (300 + calcFare);\r\n        }\r\n        else if (ticketType.value === 'Business Class') {\r\n            displayAmt.innerText = 'Total payable amount: $' + passCount * (500 + calcFare);\r\n        }\r\n        else if (ticketType.value === 'Common Class') {\r\n            displayAmt.innerText = 'Total payable amount: $' + passCount * (150 + calcFare);\r\n        }\r\n    }\r\n    ticketDetailGrid.dataSource = reserved;\r\n}\r\nfunction trainSelected(args) {\r\n    selectedTrain = args.data;\r\n}\r\n\r\n\r\n    renderComponents();\r\n\r\n// tslint:enable:max-line-length"}