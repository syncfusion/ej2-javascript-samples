{"index.html":"<!DOCTYPE html><html><head>\n<meta charset=\"UTF-8\">\n<link href=\"http://cdn.syncfusion.com/ej2/material.css\" rel=\"stylesheet\">\n<link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n<script type=\"text/javascript\">\n   if (/MSIE d|Trident.*rv:/.test(navigator.userAgent)) {\n       document.write(\"<script src='https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.5/bluebird.min.js'><\\/script>\");\n   }\n</script>\n<script src=\"http://cdn.syncfusion.com/ej2/dist/ej2.min.js\" type=\"text/javascript\"></script>\n</head>\n<body>\n<div class=\"col-lg-8 control-section\">\n    <div class=\"control_wrapper\">\n        <!-- Initialize Uploader -->\n        <div id=\"dropArea\" style=\"height: auto; overflow: auto\">\n            <span id=\"drop\"> Drop image (JPG, PNG) files here or <a href=\"\" id=\"browse\"><u>Browse</u></a></span>\n            <input type=\"file\" name=\"UploadFiles\" id=\"fileupload\">\n        </div>\n    </div>\n</div>\n\n<div class=\"col-lg-4 property-section\">\n    <div id=\"property\" title=\"Properties\">\n        <div style=\"margin-left: 50px; padding-top:25px;\">\n            <button class=\"e-btn e-css\" id=\"clearbtn\" title=\"Clear All\" style=\"width:130px\">Clear All</button>\n        </div>\n        <div style=\"margin-left: 50px; padding-top:25px;\">\n            <button class=\"e-btn e-css\" id=\"uploadbtn\" title=\"Upload All\" style=\"width:130px\">Upload All</button>\n        </div>\n    </div>\n</div>\n\n<style>\n     .control_wrapper {\n        max-width: 505px;\n        margin: auto;\n    }\n    #uploadicon {    \n        cursor: pointer;\n        top: 5px;\n        left: 20px;\n        position: relative;\n    }\n    .e-file-select-wrap {\n        display: none;\n    }\n    .e-upload {\n        border: none;\n        margin-top: 10px;\n        width: 100%;\n    }\n    #drop {\n        font-size: 14px;\n    }\n    .e-bigger #drop {\n        font-size: 15px;\n    }\n    #dropArea {\n        border: 1px dashed #c3c3cc;\n        position: relative;\n        text-align: center;\n        padding: 20px 0 10px;\n    }\n    #dropArea .e-upload .e-upload-files {\n        text-align: initial;\n        border-top: none;\n    }\n    #dropArea .e-upload-files .e-file-delete-btn.e-icons,\n    #dropArea .e-upload-files .e-file-remove-btn.e-icons {\n        top: 120px;\n        background-color: white;\n        border-radius: 50%;\n        font-size: 12px;\n        left: 80px;\n    }\n    #dropArea .e-upload-files li .e-file-remove-btn.e-icons.e-upload-icon {\n        font-size: 14px;\n        left: 20px;\n    }\n    #dropArea .e-upload-files li:hover .e-icons {\n        visibility: visible;\n    }\n    #dropArea .e-upload-files li .e-icons {\n        visibility: hidden;\n    }\n    #dropArea .e-upload .e-upload-files .e-icons.e-upload-icon::before{\n        content: '\\e725';\n    }\n    #dropArea .e-upload .e-upload-files .e-icons.e-upload-icon{\n        font-size: 16px;\n    }\n    #dropArea .e-upload .e-upload-files .e-icons:not(.e-uploaded):hover{\n        background-color: #e6e6e6;\n        border-color: #adadad;\n        color: #333;\n    }\n    .highcontrast #dropArea .e-upload-files .e-file-remove-btn.e-icons,\n    .highcontrast #dropArea .e-upload-files .e-file-delete-btn.e-icons {\n        background-color: #ffd939;\n    }\n    .highcontrast #dropArea .e-upload .e-upload-files .e-file-delete-btn.e-icons::before,\n    .highcontrast #dropArea .e-upload .e-upload-files .e-file-remove-btn.e-icons::before{\n        color: black;\n    }\n    #dropArea .e-upload .e-upload-files .e-upload-file-list {\n        border: 0;\n        display: inline-block;\n        width: 165px;\n    }\n    .upload-image {\n        width: 150px;\n        height: 150px;\n        display: inline-flex;\n        background-size: contain;\n        margin: 7px;\n        text-align: center;\n        line-height: 10;\n        border-radius: 5px;\n    }\n    .upload-image:after {\n        content: \"\";\n        position: absolute;\n        top: 6px;\n        left: 6px;\n        width: inherit;\n        height: inherit;\n        background: lightgray url('http://via.placeholder.com/300?text=Loading...') no-repeat center;\n        color: transparent;\n        border-radius: 5px;\n    }\n    .highcontrast div.file-name {\n        color: white;\n    }\n    div.file-name {\n        color: rgba(0, 0, 0, 0.87);\n        font-size: 14px;\n        padding: 3px 10px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        width: 90%;\n        white-space: nowrap;\n    }\n    .highcontrast div.file-size {\n        color: white;\n    }\n    div.file-size {\n        font-size: 13px;\n        padding: 3px 10px;\n        overflow: hidden;\n    }\n    .progressbar {\n        background: #ff4081;\n        border: none;\n        border-radius: 10px;\n        height: 4px;\n        margin-left: 7px;\n        width: 90%;\n        top: -60px;\n        position: relative;\n    }\n    #dropArea progress {\n        border: none;\n        background: #fff;\n   }\n   .highcontrast #dropArea progress {\n        border: none;\n        background: black;\n   }\n    progress::-webkit-progress-bar {\n        border: none;\n        background-color: #ffffff;\n    }\n    .highcontrast progress::-webkit-progress-bar {\n        border: none;\n        background-color: #000000;\n    }\n    .material progress::-webkit-progress-value {\n        border-radius: 2px; \n        background-color: #ff4081;\n    }\n    .bootstrap progress::-webkit-progress-value {\n        border-radius: 2px; \n        background-color: #1f496e;\n    }\n    .fabric progress::-webkit-progress-value {\n        background-color: #1763ff;\n        border-radius: 2px; \n        top: -66px;\n    }\n    .highcontrast progress::-webkit-progress-value {\n        background-color: #ffd939;\n        border-radius: 2px; \n    }\n    .material progress::-moz-progress-bar {\n        border-radius: 2px; \n        background-color: #ff4081;\n    }\n    .bootstrap progress::-moz-progress-bar {\n        border-radius: 2px; \n        background-color: #1f496e;\n    }\n    .fabric progress::-moz-progress-bar {\n        background-color: #1763ff;\n        border-radius: 2px; \n        top: -66px;\n    }\n    .highcontrast progress::-moz-progress-bar {\n        background-color: #ffd939;\n        border-radius: 2px; \n    }\n    .material span a {\n        color:#ff4081;\n    }\n    .fabric span a {\n        color: #1763ff;\n    }\n    .bootstrap span a {\n        color: #1f496e;\n    }\n    .highcontrast span a,\n    .highcontrast span a:hover {\n        color: #ffd939;\n    }\n</style>\n\n\n\n\n<script src=\"index.js\" type=\"text/javascript\"></script>\n\n</body></html>","index.js":"ej.base.enableRipple(true)\n\r\n    var dropElement = document.getElementsByClassName('control-fluid')[0];\r\n    var uploadObj = new ej.inputs.Uploader({\r\n        asyncSettings: { saveUrl: 'https://aspnetmvc.syncfusion.com/services/api/uploadbox/Save',\r\n        removeUrl: 'https://aspnetmvc.syncfusion.com/services/api/uploadbox/Remove'\r\n        },\r\n        dropArea: dropElement, selected: onSelect, progress: onFileUpload, success: onUploadSuccess,\r\n        failure: onUploadFailed, allowedExtensions: '.jpg,.png', template: 'template'\r\n    });\r\n    uploadObj.appendTo('#fileupload');\r\n\r\n    var parentElement;\r\n    var progressbarContainer;\r\n    if (ej.base.Browser.isDevice) {\r\n        document.getElementById('drop').style.padding = '0px 10%';\r\n    }\r\n    document.getElementById('browse').onclick = function () {\r\n        document.getElementsByClassName('e-file-select-wrap')[0].querySelector('button').click();\r\n        return false;\r\n    };\r\n    document.getElementById('clearbtn').onclick = function () {\r\n        ej.base.detach(dropElement.querySelector('ul'));\r\n        uploadObj.filesData = [];\r\n        uploadObj.fileList = [];\r\n    };\r\n    document.getElementById('uploadbtn').onclick = function () {\r\n        if (dropElement.querySelector('ul') && uploadObj.getFilesData().length > 0) {\r\n            uploadObj.upload(uploadObj.getFilesData());\r\n        }\r\n    };\r\n    function onSelect(args) {\r\n        if (!dropElement.querySelector('li')) {\r\n            this.filesData = [];\r\n        }\r\n        if (ej.base.isNullOrUndefined(document.getElementById('dropArea').querySelector('.e-upload-files'))) {\r\n            parentElement = ej.base.createElement('ul', { className: 'e-upload-files' });\r\n            document.getElementsByClassName('e-upload')[0].appendChild(parentElement);\r\n        }\r\n        for (var i = 0; i < args.filesData.length; i++) {\r\n            formSelectedData(args.filesData[i], this);\r\n        }\r\n        this.filesData = this.filesData.concat(args.filesData);\r\n        args.cancel = true;\r\n    }\r\n    function formSelectedData(file, proxy) {\r\n        var liEle = ej.base.createElement('li', { className: 'e-upload-file-list', attrs: { 'data-file-name': file.name } });\r\n        var imageTag = ej.base.createElement('IMG', { className: 'upload-image', attrs: { 'alt': 'Image' } });\r\n        var wrapper = ej.base.createElement('span', { className: 'wrapper' });\r\n        wrapper.appendChild(imageTag);\r\n        liEle.appendChild(wrapper);\r\n        liEle.appendChild(ej.base.createElement('div', { className: 'name file-name', innerHTML: file.name, attrs: { 'title': file.name } }));\r\n        liEle.appendChild(ej.base.createElement('div', { className: 'file-size', innerHTML: proxy.bytesToSize(file.size) }));\r\n        var clearbtn;\r\n        var uploadbtn;\r\n        clearbtn = ej.base.createElement('span', { id: 'removeIcon', className: 'e-icons e-file-remove-btn', attrs: { 'title': 'Remove' } });\r\n        ej.base.EventHandler.add(clearbtn, 'click', removeFiles, proxy);\r\n        liEle.setAttribute('title', 'Ready to Upload');\r\n        uploadbtn = ej.base.createElement('span', { className: 'e-upload-icon e-icons e-file-remove-btn', attrs: { 'title': 'Upload' } });\r\n        uploadbtn.setAttribute('id', 'iconUpload');\r\n        ej.base.EventHandler.add(uploadbtn, 'click', uploadFile, proxy);\r\n        progressbarContainer = ej.base.createElement('progress', { className: 'progressbar', id: 'progressBar', attrs: { value: '0', max: '100' } });\r\n        liEle.appendChild(clearbtn);\r\n        liEle.appendChild(uploadbtn);\r\n        liEle.appendChild(progressbarContainer);\r\n        readURL(liEle, file);\r\n        document.querySelector('.e-upload-files').appendChild(liEle);\r\n        proxy.fileList.push(liEle);\r\n    }\r\n    function uploadFile(args) {\r\n        uploadObj.upload([this.filesData[this.fileList.indexOf(args.currentTarget.parentElement)]]);\r\n    }\r\n    function removeFiles(args) {\r\n        var statusCode = this.filesData[this.fileList.indexOf(args.currentTarget.parentElement)].statusCode;\r\n        if (statusCode === '2' || statusCode === '1') {\r\n            this.remove(this.filesData[this.fileList.indexOf(args.currentTarget.parentElement)]);\r\n            uploadObj.element.value = '';\r\n        }\r\n    }\r\n    function onFileUpload(args) {\r\n        var li = document.getElementById('dropArea').querySelector('[data-file-name=\"' + args.file.name + '\"]');\r\n        var iconEle = li.querySelector('#iconUpload');\r\n        iconEle.style.cursor = 'not-allowed';\r\n        iconEle.classList.add('e-uploaded');\r\n        ej.base.EventHandler.remove(li.querySelector('#iconUpload'), 'click', uploadFile);\r\n        var progressValue = Math.round((args.e.loaded / args.e.total) * 100);\r\n        if (!isNaN(progressValue) && li.querySelector('.progressbar')) {\r\n            li.getElementsByTagName('progress')[0].value = progressValue;\r\n        }\r\n    }\r\n    function onUploadSuccess(args) {\r\n        var _this = this;\r\n        var spinnerElement = document.getElementById('dropArea');\r\n        var li = document.getElementById('dropArea').querySelector('[data-file-name=\"' + args.file.name + '\"]');\r\n        if (li && !ej.base.isNullOrUndefined(li.querySelector('.progressbar'))) {\r\n            li.querySelector('.progressbar').style.visibility = 'hidden';\r\n        }\r\n        if (args.operation === 'upload') {\r\n            ej.base.EventHandler.remove(li.querySelector('#iconUpload'), 'click', uploadFile);\r\n            li.querySelector('.file-name').style.color = 'green';\r\n            li.querySelector('.e-icons').onclick = function () { generateSpinner(_this.uploadWrapper); };\r\n        }\r\n        else {\r\n            if (li) {\r\n                ej.base.detach(li);\r\n            }\r\n            ej.popups.hideSpinner(spinnerElement);\r\n            ej.base.detach(spinnerElement.querySelector('.e-spinner-pane'));\r\n        }\r\n        li.setAttribute('title', args.e.currentTarget.statusText);\r\n    }\r\n    function generateSpinner(targetElement) {\r\n        ej.popups.createSpinner({ target: targetElement, width: '25px' });\r\n        ej.popups.showSpinner(targetElement);\r\n    }\r\n    function onUploadFailed(args) {\r\n        var li = document.getElementById('dropArea').querySelector('[data-file-name=\"' + args.file.name + '\"]');\r\n        li.querySelector('.file-name').style.color = 'red';\r\n        li.setAttribute('title', args.e.currentTarget.statusText);\r\n        if (args.operation === 'upload') {\r\n            ej.base.EventHandler.remove(li.querySelector('#iconUpload'), 'click', uploadFile);\r\n            li.querySelector('.progressbar').style.visibility = 'hidden';\r\n        }\r\n    }\r\n    function readURL(li, args) {\r\n        var preview = li.querySelector('.upload-image');\r\n        var file = args.rawFile;\r\n        var reader = new FileReader();\r\n        reader.addEventListener('load', function () { preview.src = reader.result; }, false);\r\n        if (file) {\r\n            reader.readAsDataURL(file);\r\n        }\r\n    }\r\n"}